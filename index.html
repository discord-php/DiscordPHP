<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;-webkit-text-decoration-skip:objects}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:1.625rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.40625rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(0.8125rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#4078c0;text-decoration:none;}a:hover,a:active{text-decoration:underline;}</style><style data-href="/styles.3c1705c2c3a7f8c70aa8.css" id="gatsby-global-css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.layout-module--container--zLeA4>header{margin-bottom:1.5rem}.layout-module--hidden--5UP4l{opacity:0}@media (min-width:55em){.layout-module--container--zLeA4{display:grid;grid-column-gap:2.9em;grid-template-columns:13.05em 2fr}.layout-module--container--zLeA4>nav{grid-column:1/2}.layout-module--container--zLeA4>main{grid-column:2/3}}.layout-module--versionDropdown--1WVa5{display:flex;align-items:flex-start}header{--header-background-color:#fff;--input-background-color:#eee;display:flex;background-color:var(--header-background-color);color:#fff;position:-webkit-sticky;position:sticky;z-index:1;top:0;border-bottom:3px solid #fff}header h1{grid-column:2/3;grid-row:1/2;color:inherit;margin:0;font-size:1.125rem;align-self:center;text-align:right}@media (min-width:55em){header{grid-template-columns:13.05em auto -webkit-max-content;grid-template-columns:13.05em auto max-content;grid-column-gap:2.9em}header h1{text-align:left}}header>.search{display:grid;grid-template-rows:auto 1fr;max-height:100vh;grid-column:1/3;grid-row:1/2;--whitespace:1.25rem;width:100%;position:relative;z-index:1}header>.search .input{background-color:var(--header-background-color);color:#fff;display:grid}header>.search .input input{display:block;box-sizing:border-box;width:100%;border:0;outline:none;background:var(--input-background-color);padding:.1rem var(--whitespace);grid-row:1/-1;grid-column:1/-1}header .icon-search{fill:currentColor;grid-row:1/-1;grid-column:1/-1;align-self:center;margin-left:.3rem;width:1em;height:1em;font-size:.6em;color:#000;position:relative;z-index:1}header>.search .input input:-ms-input-placeholder{color:#000}header>.search .input input::placeholder{color:#000}header>.search .results{overflow-y:auto;margin:0;background:#fff;color:#000;list-style:none;padding:0 var(--whitespace);width:100%}header>.search .results li:first-child{padding-top:var(--whitespace)}header>.search .results li:last-child{padding-bottom:var(--whitespace);margin-bottom:0;border-bottom:3px solid #eee}header>.search a{color:inherit;background:none;display:block}header>.search a:focus,header>.search a:hover{text-decoration:underline}header>button{grid-row:1/2;grid-column:-2/-1;background:transparent;color:#ddd;border:0;padding:0 1rem;cursor:pointer;height:2rem}header>button:active,header>button:focus,header>button:hover{color:#1ca086}table{table-layout:fixed}@media (min-width:55em){header>.search{grid-column:1/-1}header button{display:none!important}}header>button>svg{fill:currentColor;vertical-align:middle}main :not(pre)>code[class*=language-]{color:#000;padding:.2em .4em;border-radius:3px;white-space:normal;background:rgba(27,31,35,.050980392156862744);text-shadow:none;font-size:85%;overflow-wrap:break-word;word-break:break-word}.api-module--container--3kcA-{--description-background-color:#fff;--code-background-color:#191a18;--code-foreground-color:#fff;padding:1.25rem 1rem}.api-module--table--orE2T{max-width:100%;overflow-x:auto}main [id]:before{display:block;content:" ";margin-top:-5rem;height:5rem;visibility:hidden}main h2:first-child{margin-top:0}.api-module--container--3kcA- pre{background-color:var(--code-background-color);color:var(--code-foreground-color);padding:.725em 1.45em;width:100%;overflow-x:auto}@media (min-width:55em){.api-module--container--3kcA-{padding:0}main{--description-background-color:#fff;--code-background-color:#0a0b09;--code-foreground-color:#fff;background-image:linear-gradient(90deg,var(--description-background-color),var(--description-background-color) 50%,var(--code-background-color) 0,var(--code-background-color))}.api-module--section--1E1xV{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:2.9em}.api-module--section--1E1xV>:not([data-language]){max-width:100%;overflow-x:auto;overflow-y:hidden;grid-column:1/2;padding-bottom:.11rem}.api-module--section--1E1xV>[data-language]{overflow-x:auto;grid-column:2/3;background-color:var(--code-background-color);color:var(--code-foreground-color)}.api-module--section--1E1xV>[data-language] pre{margin:0;padding:0}}.api-module--nav--1hEWA{position:-webkit-sticky;position:sticky;top:0;background-color:#eee;padding:0;max-height:100vh;overflow-y:auto}.api-module--nav--1hEWA h1{display:inline}.api-module--nav--1hEWA button{display:block;margin-bottom:.75em}.api-module--nav--1hEWA a:not(:hover):not(:active):not(:focus){color:inherit}.api-module--nav--1hEWA a{text-shadow:none;background-image:none;text-decoration:none;display:block}.api-module--nav--1hEWA>ol{padding:1rem!important}.api-module--nav--1hEWA li,.api-module--nav--1hEWA ol{list-style:none;margin-left:0;padding-left:0}.api-module--nav--1hEWA li li{font-size:.875em}.api-module--subhidden--tmTLp{display:none!important}.api-module--activelink--JBQ4j{position:-webkit-sticky;position:sticky;top:0;display:block;background-color:#fff;border-bottom:1px solid rgba(0,0,0,.12)}.api-module--activemenuitem--3O5Ag{font-weight:700}.api-module--deprecated--30wEb{background-color:#ffe7e8;padding:1.25rem;border-radius:.25rem;margin-bottom:1rem}@media (max-width:55em){.api-module--hidden--2sqxv{display:none!important}}</style><meta name="generator" content="Gatsby 2.28.2"/><title data-react-helmet="true">DiscordPHP</title><meta data-react-helmet="true" charSet="utf-8"/><link as="script" rel="preload" href="/webpack-runtime-e18f82409c4e6673cf3d.js"/><link as="script" rel="preload" href="/framework-06f646d936b841f99ebd.js"/><link as="script" rel="preload" href="/app-b68a0614aa414b5dac62.js"/><link as="script" rel="preload" href="/styles-407fe62976dc5310c43e.js"/><link as="script" rel="preload" href="/component---src-components-template-js-f3a1756cf76e8b26da6c.js"/><link as="fetch" rel="preload" href="/page-data/index/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="layout-module--container--zLeA4"><nav class="api-module--nav--1hEWA"><ol class="api-module--hidden--2sqxv"><li><a href="#intro">Intro</a></li><li><a href="#basics">Basics</a></li><li><a href="#events">Events</a></li><li><a href="#repositories">Repositories</a></li><li><a href="#parts">Parts</a><ol class="api-module--subhidden--tmTLp"><li><a href="#guild">Guild</a></li><li><a href="#channel">Channel</a></li></ol></li><li><a href="#collection">Collection</a></li><li><a href="#permissions">Permissions</a></li></ol></nav><main class="api-module--container--3kcA-"><h1>DiscordPHP</h1><h2 id="intro">Intro</h2><div class="api-module--section--1E1xV"><p>DiscordPHP is a wrapper for the Discord REST, WebSocket and Voice APIs. Built on top of <a href="https://reactphp.org/">ReactPHP</a> components. This documentation is based off the latest <code class="language-text">master</code> branch.</p>
<p>The class reference has moved. You can now access it <a href="http://teamreflex.github.io/DiscordPHP/reference/">here</a>.</p>
<h3>Requirements</h3>
<ul>
<li>
<p>PHP 7.3 CLI</p>
<ul>
<li>Will not run on a webserver (FPM, CGI), you must run through CLI.</li>
<li>Library <em>can</em> run on PHP 7.2 but support for this version will be removed soon. No support will be given if there are any errors.</li>
<li>Expect the requirement to increased to PHP 7.4 without warning.</li>
</ul>
</li>
<li><code class="language-text">ext-json</code> for JSON parsing.</li>
<li><code class="language-text">ext-zlib</code> for gateway packet compression.</li>
</ul>
<h4>Recommended Extensions</h4>
<ul>
<li>One of <code class="language-text">ext-uv</code> (preferred), <code class="language-text">ext-libev</code> or <code class="language-text">evt-event</code> for a faster, and more performant event loop.</li>
<li><code class="language-text">ext-mbstring</code> if you may handle non-english characters.</li>
</ul>
<h4>Voice Requirements</h4>
<ul>
<li>64-bit Linux or Darwin based OS. Windows is not and is not planned to be supported.</li>
<li><code class="language-text">ext-sodium</code> for voice encryption.</li>
<li>FFmpeg if you plan on playing anything but raw 16-bit little-endian PCM.</li>
</ul>
<h3>Installation</h3>
<p>Installation requries <a href="https://getcomposer.org">Composer</a>.</p>
<p>To install the latest release:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token operator">></span> <span class="token function">composer</span> require team-reflex/discord-php</code></pre></div>
<p>If you would like to run on the latest <code class="language-text">master</code> branch:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token operator">></span> <span class="token function">composer</span> require team-reflex/discord-php dev-master</code></pre></div>
<p><code class="language-text">master</code> can be substituted for any other branch name to install that branch.</p>
<h3>Key Tips</h3>
<p>As Discord is a real-time application, events come frequently and it is vital that your code does not block the ReactPHP event loop.
Most, if not all, functions return promises, therefore it is vital that you understand the concept of asynchronous programming with promises.
You can learn more about ReactPHP promises <a href="https://reactphp.org/promise/">here</a>.</p>
<h3>Help</h3>
<p>If you need any help, feel free to join the <a href="">PHP Discorders</a> Discord and someone should be able to give you a hand. We are a small community so please be patient if someone can't help you straight away.</p>
<h3>Contributing</h3>
<p>All contributions are welcome through pull requests in our GitHub repository. At the moment we would love contributions towards:</p>
<ul>
<li>Unit testing</li>
<li>Documentation</li>
</ul></div><h2 id="basics">Basics</h2><div class="api-module--section--1E1xV"><p>First step is to include the Composer autoload file.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">include</span> <span class="token constant">__DIR__</span><span class="token punctuation">.</span><span class="token single-quoted-string string">'/vendor/autoload.php'</span><span class="token punctuation">;</span></span></code></pre></div>
<br>
<p>The Discord instance can be set up with an array of options. All are optional except for token:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Discord</span><span class="token punctuation">(</span><span class="token punctuation">[</span></code></pre></div>
<p><code class="language-text">token</code> is your Discord token. <strong>Required</strong>.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'token'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'Your-Token-Here'</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">intents</code> can be an array of valid intents <em>or</em> an integer representing the intents. Default is all intents.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'intents'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">[</span>
        Intents<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">GUILDS</span><span class="token punctuation">,</span> Intents<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">GUILD_BANS</span><span class="token punctuation">,</span> <span class="token comment">// ...</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// or</span>
    <span class="token single-quoted-string string">'intents'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">12345</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">loadAllMembers</code> is a boolean whether all members should be fetched and stored on bot start.
Loading members takes a while to retrieve from Discord and store, so default is false.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'loadAllMembers'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean constant">false</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">storeMessages</code> is a boolean whether messages received and sent should be stored. Default is false.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'storeMessages'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean constant">false</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">retrieveBans</code> is a boolean whether bans should be retrieved on bot load. Default is false.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'retrieveBans'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean constant">false</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">pmChannels</code> is a boolean whether PM channels should be stored on bot load. Default is false.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'pmChannels'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean constant">false</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">disabledEvents</code> is an array of events that will be disabled. By default all events are enabled.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'disabledEvents'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token punctuation">[</span>
        Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MESSAGE_CREATE</span><span class="token punctuation">,</span> Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MESSAGE_DELETE</span><span class="token punctuation">,</span> <span class="token comment">// ...</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">loop</code> is an instance of a ReactPHP event loop that can be provided to the client rather than creating a new loop.
Useful if you want to use other React components. By default, a new loop is created.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'loop'</span> <span class="token operator">=</span><span class="token operator">></span> \<span class="token package">React<span class="token punctuation">\</span>EventLoop<span class="token punctuation">\</span>Factory</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">logger</code> is an instance of a logger that implements <code class="language-text">LoggerInterface</code>. By default, a new Monolog logger is created to print to stdout.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'logger'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'New lOgger'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">loggerLevel</code> is the level of logging that the default logger will use. See a list of possible constants <a href="https://github.com/Seldaek/monolog/blob/master/src/Monolog/Logger.php#L33-L78">here</a>. Default is <code class="language-text">INFO</code> level.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'loggerLevel'</span> <span class="token operator">=</span><span class="token operator">></span> Logger<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">INFO</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">httpLogger</code> is an instance of a logger for the HTTP client that implements PSR <code class="language-text">LoggerInterface</code>.
By default, a null logger is created, which supresses HTTP logs.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'httpLogger'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token keyword">new</span> <span class="token class-name">Logger</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'HTTP Logger'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre></div>
<hr>
<p>The following options should only be used by large bots that require sharding. If you plan to use sharding, <a href="https://discord.com/developers/docs/topics/gateway#sharding">read up</a> on how Discord implements it.</p>
<p><code class="language-text">shardId</code> is the ID of the bot shard.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'shardId'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">shardCount</code> is the number of shards that you are using.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token single-quoted-string string">'shardCount'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">,</span></code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">]);</code></pre></div>
<hr>
<p>Gateway events should be registered inside the <code class="language-text">ready</code> event, which is emitted once when the bot first starts and has connected to the gateway.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'ready'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre></div>
<p>To register an event we use the <code class="language-text">$discord-&gt;on(...)</code> function, which registers a handler.
A list of events is available <a href="https://github.com/teamreflex/DiscordPHP/blob/master/src/Discord/WebSockets/Event.php#L30-L75">here</a>. They are described in more detail in further sections of the documentation.
All events take a callback which is called when the event is triggered, and the callback is called with an object representing the content of the event and an instance of the <code class="language-text">Discord</code> client.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MESSAGE_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Message <span class="token variable">$message</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ... handle message sent</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">});</code></pre></div>
<br>
<p>Finally, the event loop needs to be started. Treat this as an infinite loop.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<div>
If you want to stop the bot you can run:
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>If you want to stop the bot without stopping the event loop, the close function takes a boolean:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">close</span><span class="token punctuation">(</span><span class="token boolean constant">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</div></div><h2 id="events">Events</h2><div class="api-module--section--1E1xV"><h3>Message Create</h3>
<p>Called with a <code class="language-text">Message</code> object when a message is sent in a guild or private channel.
Requires the <code class="language-text">Intents::GUILD_MESSAGES</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MESSAGE_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Message <span class="token variable">$message</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Update</h3>
<p>Called with two <code class="language-text">Message</code> objects when a message is updated in a guild or private channel.
The old message may be null if <code class="language-text">storeMessages</code> is not enabled <em>or</em> the message was sent before the bot was started.
Discord does not provide a way to get message update history.
Requires the <code class="language-text">Intents::GUILD_MESSAGES</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MESSAGE_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Message <span class="token variable">$newMessage</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">,</span> Message <span class="token variable">$oldMessage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Delete</h3>
<p>Called with a <code class="language-text">Message</code> object <em>or</em> the raw payload when a message is deleted.
The <code class="language-text">Message</code> object may be the raw payload if <code class="language-text">storeMessages</code> is not enabled <em>or</em> the message was sent before the bot was started.
Discord does not provide a way to get deleted messages.
Requires the <code class="language-text">Intents::GUILD_MESSAGES</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MESSAGE_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$message</span> <span class="token keyword">instanceof</span> <span class="token class-name">Message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Message is present in cache</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// If the message is not present in the cache:</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// {</span>
        <span class="token comment">//     "id": "", // deleted message ID,</span>
        <span class="token comment">//     "channel_id": "", // message channel ID,</span>
        <span class="token comment">//     "guild_id": "" // channel guild ID</span>
        <span class="token comment">// }</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Delete Bulk</h3>
<p>Called with a <code class="language-text">Collection</code> of <code class="language-text">Message</code> objects <em>or</em> the raw payload when bulk messages are deleted.
The <code class="language-text">Message</code> object may be the raw payload if <code class="language-text">storeMessages</code> is not enabled <em>or</em> the message was sent before the bot was started.
Discord does not provide a way to get deleted messages.
Requires the <code class="language-text">Intents::GUILD_MESSAGES</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MESSAGE_DELETE_BULK</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Collection <span class="token variable">$messages</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$messages</span> <span class="token keyword">as</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$message</span> <span class="token keyword">instanceof</span> <span class="token class-name">Message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// Message is present in cache</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// If the message is not present in the cache:</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// {</span>
            <span class="token comment">//     "id": "", // deleted message ID,</span>
            <span class="token comment">//     "channel_id": "", // message channel ID,</span>
            <span class="token comment">//     "guild_id": "" // channel guild ID</span>
            <span class="token comment">// }</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Reaction Add</h3>
<p>Called with a <code class="language-text">MessageReaction</code> object when a reaction is added to a message.
Requires the <code class="language-text">Intents::GUILD_MESSAGE_REACTIONS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MESSAGE_REACTION_ADD</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>MessageReaction <span class="token variable">$reaction</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Reaction Remove</h3>
<p>Called with a <code class="language-text">MessageReaction</code> object when a reaction is removed from a message.
Requires the <code class="language-text">Intents::GUILD_MESSAGE_REACTIONS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MESSAGE_REACTION_REMOVE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>MessageReaction <span class="token variable">$reaction</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Reaction Remove All</h3>
<p>Called with a <code class="language-text">MessageReaction</code> object when all reactions are removed from a message.
Note that only the fields relating to the message, channel and guild will be filled.
Requires the <code class="language-text">Intents::GUILD_MESSAGE_REACTIONS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MESSAGE_REACTION_REMOVE_ALL</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>MessageReaction <span class="token variable">$reaction</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Reaction Remove Emoji</h3>
<p>Called with an object when all reactions of an emoji are removed from a message.
This event is still to be implemented.
Requires the <code class="language-text">Intents::GUILD_MESSAGE_REACTIONS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">MESSAGE_REACTION_REMOVE_EMOJI</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$reaction</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// {</span>
    <span class="token comment">//     "channel_id": "",</span>
    <span class="token comment">//     "guild_id": "",</span>
    <span class="token comment">//     "message_id": "",</span>
    <span class="token comment">//     "emoji": {</span>
    <span class="token comment">//         "id": "",</span>
    <span class="token comment">//         "name": ""</span>
    <span class="token comment">//     }</span>
    <span class="token comment">// }</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Channel Create</h3>
<p>Called with a <code class="language-text">Channel</code> object when a channel is created.
Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">CHANNEL_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Channel <span class="token variable">$channel</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Channel Update</h3>
<p>Called with two <code class="language-text">Channel</code> objects when a channel is updated.
Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">CHANNEL_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Channel <span class="token variable">$new</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">,</span> Channel <span class="token variable">$old</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Channel Delete</h3>
<p>Called with a <code class="language-text">Channel</code> object when a channel is deleted.
Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">CHANNEL_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Channel <span class="token variable">$channel</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Channel Pins Update</h3>
<p>Called with an object when the pinned messages in a channel are updated. This is not sent when a pinned message is deleted.
Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">CHANNEL_PINS_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$pins</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// {</span>
    <span class="token comment">//     "guild_id": "",</span>
    <span class="token comment">//     "channel_id": "",</span>
    <span class="token comment">//     "last_pin_timestamp": ""</span>
    <span class="token comment">// }</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Create</h3>
<p>Called with a <code class="language-text">Guild</code> object in one of the following situations:</p>
<ol>
<li>When the bot is first starting and the guilds are becoming available.</li>
<li>When a guild was unavailable and is now available due to an outage.</li>
<li>When the bot joins a new guild.</li>
</ol>
<p>Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">GUILD_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Guild <span class="token variable">$guild</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Update</h3>
<p>Called with two <code class="language-text">Guild</code> object when a guild is updated.
Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">GUILD_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Guild <span class="token variable">$new</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">,</span> Guild <span class="token variable">$old</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Delete</h3>
<p>Called with a <code class="language-text">Guild</code> object in one of the following situations:</p>
<ol>
<li>The bot was removed from a guild.</li>
<li>The guild is unavailable due to an outage.</li>
</ol>
<p>Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">GUILD_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Guild <span class="token variable">$guild</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">,</span> bool <span class="token variable">$unavailable</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$unavailable</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// the guild is unavailabe due to an outage</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// the bot has been kicked from the guild</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Member Add</h3>
<p>Called with a <code class="language-text">Member</code> object when a member joins a guild.
Requires the <code class="language-text">Intents::GUILD_MEMBERS</code> intent. This intent is a priviliged intent, it must be enabled in your Discord bot developer settings.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">GUILD_MEMBER_ADD</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Member <span class="token variable">$member</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Member Update</h3>
<p>Called with two <code class="language-text">Member</code> objects when a member is updated in a guild. Note that the old version of the member <em>may</em> be null if <code class="language-text">loadAllMembers</code> is disabled.
Requires the <code class="language-text">Intents::GUILD_MEMBERS</code> intent. This intent is a priviliged intent, it must be enabled in your Discord bot developer settings.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">GUILD_MEMBER_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Member <span class="token variable">$new</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">,</span> Member <span class="token variable">$old</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Member Remove</h3>
<p>Called with a <code class="language-text">Member</code> object when a member leaves a guild (leave/kick/ban). Note the member object may be null if <code class="language-text">loadAllMembers</code> is disabled.
Requires the <code class="language-text">Intents::GUILD_MEMBERS</code> intent. This intent is a priviliged intent, it must be enabled in your Discord bot developer settings.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">GUILD_MEMBER_REMOVE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Member <span class="token variable">$member</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Role Create</h3>
<p>Called with a <code class="language-text">Role</code> object when a role is created in a guild.
Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">GUILD_ROLE_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Role <span class="token variable">$role</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Role Update</h3>
<p>Called with two <code class="language-text">Role</code> objects when a role is updated in a guild.
Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">GUILD_ROLE_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Role <span class="token variable">$new</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">,</span> Role <span class="token variable">$old</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Role Delete</h3>
<p>Called with a <code class="language-text">Role</code> object when a role is deleted in a guild.
Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">GUILD_ROLE_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Role <span class="token variable">$role</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Integrations Update</h3>
<p>Called with a <code class="language-text">Guild</code> object when a guild's integrations are updated.
Requires the <code class="language-text">Intents::GUILD_INTEGRATIONS</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">GUILD_INTEGRATIONS_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Guild <span class="token variable">$guild</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Invite Create</h3>
<p>Called with an <code class="language-text">Invite</code> object when an invite is created.
Requires the <code class="language-text">Intents::GUILD_INVITES</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">INVITE_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>Invite <span class="token variable">$invite</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Invite Delete</h3>
<p>Called with an object when an invite is created.
Requires the <code class="language-text">Intents::GUILD_INVITES</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">INVITE_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$invite</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// {</span>
    <span class="token comment">//     "channel_id": "",</span>
    <span class="token comment">//     "guild_id": "",</span>
    <span class="token comment">//     "code": "" // the unique invite code</span>
    <span class="token comment">// }</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Presence Update</h3>
<p>Called with a <code class="language-text">PresenceUpdate</code> object when a members presence is updated.
Requires the <code class="language-text">Intents::GUILD_PRESENCES</code> intent. This intent is a priviliged intent, it must be enabled in your Discord bot developer settings.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">PRESENCE_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>PresenceUpdate <span class="token variable">$presence</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Typing Start</h3>
<p>Called with a <code class="language-text">TypingStart</code> object when a member starts typing in a channel.
Requires the <code class="language-text">Intents::GUILD_MESSAGE_TYPING</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">TYPING_START</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>TypingStart <span class="token variable">$typing</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Voice State Update</h3>
<p>Called with a <code class="language-text">VoiceStateUpdate</code> object when a member joins, leaves or moves between voice channels.
Requires the <code class="language-text">Intents::GUILD_VOICE_STATES</code> intent.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">on</span><span class="token punctuation">(</span>Event<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token constant">VOICE_STATE_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span>VoiceStateUpdate <span class="token variable">$state</span><span class="token punctuation">,</span> Discord <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="repositories">Repositories</h2><div class="api-module--section--1E1xV"><p>Repositories are containers for parts. They provide the functions to get, save and delete parts from the Discord servers. Different parts have many repositories.</p>
<p>An example is the <code class="language-text">Channel</code> part. It has 4 repositories: <code class="language-text">members</code>, <code class="language-text">messages</code>, <code class="language-text">overwrites</code> and <code class="language-text">webhooks</code>. Each of these repositories contain parts that relate to the <code class="language-text">Channel</code> part, such as messages sent in the channel (<code class="language-text">messages</code> repository), or if it is a voice channel the members currently in the channel (<code class="language-text">members</code> repository).</p>
<p>A full list of repositories is provided below in the parts section, per part.</p>
<p>Repositories extend the <a href="#collection">Collection</a> class. See the documentation on collections for extra methods.</p>
<p>Examples provided below are based on the <code class="language-text">guilds</code> repository in the Discord client.</p>
<h3>Methods</h3>
<p>All repositories extend the <code class="language-text">AbstractRepository</code> class, and share a set of core methods.</p>
<h4>Freshening the repository data</h4>
<p>Clears the repository and fills it with new data from Discord. It takes no parameters and returns the repository in a promise.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">guilds</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">freshen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>GuildRepository <span class="token variable">$guilds</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Creating a part</h4>
<p>Creates a repository part from an array of attributes and returns the part. Does not create the part in Discord servers, you must use the <code class="language-text">-&gt;save()</code> function later.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>attributes</td>
<td>array</td>
<td>Array of attributes to fill in the part. Optional</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$guild</span> <span class="token operator">=</span> <span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">guilds</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'My new guild name'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// to save</span>
<span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">guilds</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">save</span><span class="token punctuation">(</span><span class="token variable">$guild</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Saving a part</h4>
<p>Creates or updates a repository part in the Discord servers. Takes a part and returns the same part in a promise.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>part</td>
<td>Part</td>
<td>The part to create or update</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">guilds</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">save</span><span class="token punctuation">(</span><span class="token variable">$guild</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Guild <span class="token variable">$guild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Deleting a part</h4>
<p>Deletes a repository part from the Discord servers. Takes a part and returns the old part in a promise.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>part</td>
<td>Part</td>
<td>The part to delete</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">guilds</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$guild</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Guild <span class="token variable">$guild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Fetch a part</h4>
<p>Fetches/freshens a part from the repository. If the part is present in the cache, it returns the cached version, otherwise it retrieves the part from Discord servers. Takes a part ID and returns the part in a promise.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Part ID</td>
</tr>
<tr>
<td>fresh</td>
<td>bool</td>
<td>Forces the method to skip checking the cache. Default is false</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">guilds</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'guild_id'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Guild <span class="token variable">$guild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or, if you don't want to check the cache</span>
<span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">guilds</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'guild_id'</span><span class="token punctuation">,</span> <span class="token boolean constant">true</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Guild <span class="token variable">$guild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="parts">Parts</h2><div class="api-module--section--1E1xV"><p>Parts is the term used for the data structures inside Discord.
All parts share a common set of attributes and methods.</p>
<p>Parts have a set list of fillable fields. If you attempt to set a field that is not accessible, it will not warn you.</p>
<p>To create a part object, you can use the <code class="language-text">new</code> syntax or the <code class="language-text">factory</code> method. For example, creating a <code class="language-text">Message</code> part:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Message</span><span class="token punctuation">(</span><span class="token variable">$discord</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token variable">$message</span> <span class="token operator">=</span> <span class="token variable">$discord</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">factory</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">create</span><span class="token punctuation">(</span>Message<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<br>
<p>Part attributes can be accessed similar to an object or like an array:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">content</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'hello!'</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token variable">$message</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'hello!'</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token variable">$message</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">content</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token keyword">echo</span> <span class="token variable">$message</span><span class="token punctuation">[</span><span class="token single-quoted-string string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div>
<h3>Filling a part with data</h3>
<p>The <code class="language-text">-&gt;fill(array $attributes)</code> function takes an array of attributes to fill the part. If a field is found that is not 'fillable', it is skipped.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'content'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'hello!'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Getting the raw attributes of a part</h3>
<p>The <code class="language-text">-&gt;getRawAttributes()</code> function returns the array representation of the part.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$attributes</span> <span class="token operator">=</span> <span class="token variable">$message</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">getRawAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * [
 *     "id" => "",
 *     "content" => "",
 *     // ...
 * ]
 */</span></code></pre></div></div><h2 id="guild">Guild</h2><div class="api-module--section--1E1xV"><p>Guilds represent Discord 'servers'.</p>
<h3>Repositories</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>channels</td>
<td><a href="#channel">Channel</a></td>
<td></td>
</tr>
<tr>
<td>members</td>
<td><a href="#member">Member</a></td>
<td>May not contain offline members, see the <a href="#basics"><code class="language-text">loadAllMembers</code> option</a>.</td>
</tr>
<tr>
<td>roles</td>
<td><a href="#role">Role</a></td>
<td></td>
</tr>
<tr>
<td>bans</td>
<td><a href="#ban">Ban</a></td>
<td></td>
</tr>
<tr>
<td>invites</td>
<td><a href="#invite">Invite</a></td>
<td></td>
</tr>
<tr>
<td>emojis</td>
<td><a href="#emoji">Emoji</a></td>
<td></td>
</tr>
</tbody>
</table>
<h3>Creating a role</h3>
<p>Shortcut for <code class="language-text">$guild-&gt;roles-&gt;save($role);</code>. Takes an array of parameters for a role and returns a role part in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Role name</td>
<td>new role</td>
</tr>
<tr>
<td>color</td>
<td>integer</td>
<td>RGB color value</td>
<td>0</td>
</tr>
<tr>
<td>permissions</td>
<td>string</td>
<td>Bitwise value of permissions</td>
<td>@everyone permissions</td>
</tr>
<tr>
<td>hoist</td>
<td>bool</td>
<td>Hoisted role?</td>
<td>false</td>
</tr>
<tr>
<td>mentionable</td>
<td>bool</td>
<td>Mentionable role?</td>
<td>false</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$guild</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">createRole</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'name'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'New Role'</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Role <span class="token variable">$role</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Transferring ownership of guild</h3>
<p>Transfers the ownership of the guild to another member. The bot must own the guild to be able to transfer ownership. Takes a member object or a member ID and returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>member</td>
<td>Member or member ID</td>
<td>The member to get ownership</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$guild</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">transferOwnership</span><span class="token punctuation">(</span><span class="token variable">$member</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token variable">$guild</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">transferOwnership</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'member_id'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Unbanning a member with a User or user ID</h3>
<p>Unbans a member when passed a <code class="language-text">User</code> object or a user ID. If you have the ban object, you can do <code class="language-text">$guild-&gt;bans-&gt;delete($ban);</code>. Returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>user_id</td>
<td><code class="language-text">User</code> or user ID</td>
<td>The user to unban</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$guild</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">unban</span><span class="token punctuation">(</span><span class="token variable">$user</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token variable">$guild</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">unban</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'user_id'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="channel">Channel</h2><div class="api-module--section--1E1xV"><p>Channels represent a Discord channel, whether it be a direct message channel, group channel, voice channel, text channel etc.</p>
<h3>Repositories</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>members</td>
<td>VoiceStateUpdate</td>
<td>Only for voice channels. Contains voice members.</td>
</tr>
<tr>
<td>messages</td>
<td><a href="#message">Message</a></td>
<td></td>
</tr>
<tr>
<td>overwrites</td>
<td><a href="#overwrite">Overwrite</a></td>
<td>Contains permissioon overwrites.</td>
</tr>
<tr>
<td>webhooks</td>
<td><a href="#webhook">Webhook</a></td>
<td></td>
</tr>
</tbody>
</table>
<h3>Set permissions of a member or role</h3>
<p>Sets the permissions of a member or role. Takes two arrays of permissions - one for allow and one for deny. See <a href="#permissions">Channel Permissions</a> for a valid list of permissions. Returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>part</td>
<td><a href="#member">Member</a> or <a href="#role">Role</a></td>
<td>The part to apply the permissions to</td>
<td>required</td>
</tr>
<tr>
<td>allow</td>
<td>array</td>
<td>Array of permissions to allow the part</td>
<td>[]</td>
</tr>
<tr>
<td>deny</td>
<td>array</td>
<td>Array of permissions to deny the part</td>
<td>[]</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// Member can send messages and attach files,</span>
<span class="token comment">// but can't add reactions to message.</span>
<span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">setPermissions</span><span class="token punctuation">(</span><span class="token variable">$member</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'send_messages'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'attach_files'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'add_reactions'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Set permissions of a member or role with an Overwrite</h3>
<p>Sets the permissions of a member or role, but takes an <code class="language-text">Overwrite</code> part instead of two arrays. Returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>part</td>
<td><a href="#member">Member</a> or <a href="#role">Role</a></td>
<td>The part to apply the permissions to</td>
<td>required</td>
</tr>
<tr>
<td>overwrite</td>
<td><code class="language-text">Overwrite</code> part</td>
<td>The overwrite to apply</td>
<td>required</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$allow</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChannelPermission</span><span class="token punctuation">(</span><span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'send_messages'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean constant">true</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'attach_files'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean constant">true</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$deny</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChannelPermission</span><span class="token punctuation">(</span><span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'add_reactions'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token boolean constant">true</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$overwrite</span> <span class="token operator">=</span> <span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">overwrites</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'allow'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$allow</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'deny'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token variable">$deny</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Member can send messages and attach files,</span>
<span class="token comment">// but can't add reactions to message.</span>
<span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">setOverwrite</span><span class="token punctuation">(</span><span class="token variable">$member</span><span class="token punctuation">,</span> <span class="token variable">$overwrite</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Move member to voice channel</h3>
<p>Moves a member to a voice channel if the member is already in one. Takes a <a href="#member">Member</a> object or member ID and returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>member</td>
<td><a href="#member">Member</a> or string</td>
<td>The member to move</td>
<td>required</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">moveMember</span><span class="token punctuation">(</span><span class="token variable">$member</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>

<span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">moveMember</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'123213123123213'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Muting and unmuting member in voice channel</h3>
<p>Mutes or unmutes a member in the voice channel. Takes a <a href="#member">Member</a> object or member ID and returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>member</td>
<td><a href="#member">Member</a> or string</td>
<td>The member to mute/unmute</td>
<td>required</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// muting a member with a member object</span>
<span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">muteMember</span><span class="token punctuation">(</span><span class="token variable">$member</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// unmuting a member with a member ID</span>
<span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">unmuteMember</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'123213123123213'</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Creating an invite</h3>
<p>Creates an invite for a channel. Takes an array of options and returns the new invite in a promise.</p>
<h4>Parameters</h4>
<p>Parameters are in an array.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>max_age</td>
<td>int</td>
<td>Maximum age of the invite in seconds</td>
<td>24 hours</td>
</tr>
<tr>
<td>max_uses</td>
<td>int</td>
<td>Maximum uses of the invite</td>
<td>unlimited</td>
</tr>
<tr>
<td>temporary</td>
<td>bool</td>
<td>Whether the invite grants temporary membership</td>
<td>false</td>
</tr>
<tr>
<td>unique</td>
<td>bool</td>
<td>Whether the invite should be unique</td>
<td>false</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">createInvite</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'max_age'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token comment">// 1 minute</span>
    <span class="token single-quoted-string string">'max_uses'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// 5 uses</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Invite <span class="token variable">$invite</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Bulk deleting messages</h3>
<p>Deletes many messages at once. Takes an array of messages and/or message IDs and returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>messages</td>
<td>array or collection of messages and/or message IDs</td>
<td>The messages to delete</td>
<td>default</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">deleteMessages</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token variable">$message1</span><span class="token punctuation">,</span>
    <span class="token variable">$message2</span><span class="token punctuation">,</span>
    <span class="token variable">$message3</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'my_message4_id'</span><span class="token punctuation">,</span>
    <span class="token single-quoted-string string">'my_message5_id'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Getting message history</h3>
<p>Retrieves message history with an array of options. Returns a collection of messages in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>before</td>
<td><a href="#message">Message</a> or message ID</td>
<td>Get messages before this message</td>
<td></td>
</tr>
<tr>
<td>after</td>
<td><a href="#message">Message</a> or message ID</td>
<td>Get messages after this message</td>
<td></td>
</tr>
<tr>
<td>around</td>
<td><a href="#message">Message</a> or message ID</td>
<td>Get messages around this message</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>Number of messages to get, between 1 and 100</td>
<td>100</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">getMessageHistory</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'limit'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Collection <span class="token variable">$messages</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$messages</span> <span class="token keyword">as</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Limit delete messages</h3>
<p>Deletes a number of messages, in order from the last one sent. Takes an integer of messages to delete and returns an empty promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>value</td>
<td>int</td>
<td>number of messages to delete, in the range 1-100</td>
<td>required</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// deletes the last 15 messages</span>
<span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">limitDelete</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Pin or unpin  a message</h3>
<p>Pins or unpins a message from the channel pinboard. Takes a message object and returns the same message in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>message</td>
<td><a href="#message">Message</a></td>
<td>The message to pin/unpin</td>
<td>required</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// to pin</span>
<span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">pinMessage</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Message <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// to unpin</span>
<span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">unpinMessage</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Message <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Get invites</h3>
<p>Gets the channels invites. Returns a collection of invites in a promise.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">getInvites</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Collection <span class="token variable">$invites</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$invites</span> <span class="token keyword">as</span> <span class="token variable">$invite</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Send a message</h3>
<p>Sends a message to the channel. Takes a string of content, whether the message is TTS and an embed. Returns the message in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>string</td>
<td>Message content</td>
<td>required</td>
</tr>
<tr>
<td>tts</td>
<td>bool</td>
<td>Whether the message is TTS</td>
<td>false</td>
</tr>
<tr>
<td>embed</td>
<td><a href="#embed">Embed</a> or embed array</td>
<td>The embed for the message</td>
<td>none</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'Hello, world!'</span><span class="token punctuation">,</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token variable">$embed</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Message <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Send an embed</h3>
<p>Sends an embed to the channel. Takes an embed and returns the sent message in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>embed</td>
<td><a href="#embed">Embed</a></td>
<td>The embed to send</td>
<td>required</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">sendEmbed</span><span class="token punctuation">(</span><span class="token variable">$embed</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Message <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Send a file</h3>
<p>Sends a file to the channel. Takes a filepath, filename, message content and tts value. Returns a message in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>filepath</td>
<td>string</td>
<td>Path to the file to send</td>
<td>required</td>
</tr>
<tr>
<td>filename</td>
<td>string</td>
<td>The filename to send the file as</td>
<td>same as filepath</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>Message content to send with the file</td>
<td></td>
</tr>
<tr>
<td>tts</td>
<td>bool</td>
<td>Whether the message content is TTS</td>
<td>false</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'/home/user/my_cool_pic.png'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'new_filename.png'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'content'</span><span class="token punctuation">,</span> <span class="token boolean constant">false</span><span class="token punctuation">)</span>
<span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Message <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Broadcast typing</h3>
<p>Broadcasts to the channel that the bot is typing. Genreally, bots should <em>not</em> use this route, but if a bot takes a while to process a request it could be useful. Returns nothing in a promise.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">broadcastTyping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Create a message collector</h3>
<p>Creates a message collector, which calls a filter function on each message received and inserts it into a collection if the function returns <code class="language-text">true</code>. The collector is resolved after a specified time or limit, whichever is given or whichever happens first. Takes a callback, an array of options and returns a collection of messages in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>filter</td>
<td>callable</td>
<td>The callback to call on every message</td>
<td>required</td>
</tr>
<tr>
<td>options</td>
<td>array</td>
<td>Array of options</td>
<td>[]</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// Collects 5 messages containing hello</span>
<span class="token variable">$channel</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">createMessageCollector</span><span class="token punctuation">(</span>fn <span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token function">strpos</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">content</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'hello'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token boolean constant">false</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'limit'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">5</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span>Collection <span class="token variable">$messages</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$messages</span> <span class="token keyword">as</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Options</h4>
<p>One of <code class="language-text">time</code> or <code class="language-text">limit</code> is required, or the collector will not resolve.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>int</td>
<td>The time after which the collector will resolve, in milliseconds</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>The number of messages to be collected</td>
</tr>
</tbody>
</table></div><h2 id="collection">Collection</h2><div class="api-module--section--1E1xV"><p>Collections are exactly what they sound like - collections of items. In DiscordPHP collections are based around the idea of parts, but they can be used for any type of item.</p>
<div>
Collections implement interfaces allowing them to be accessed like arrays, such as:
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// square bracket index access</span>
<span class="token variable">$collec</span><span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token single-quoted-string string">'asdf'</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$collec</span><span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// asdf</span>

<span class="token comment">// foreach loops</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$collec</span> <span class="token keyword">as</span> <span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment">// json serialization</span>
<span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$collec</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// array serialization</span>
<span class="token variable">$collecArray</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">array</span><span class="token punctuation">)</span> <span class="token variable">$collec</span><span class="token punctuation">;</span>

<span class="token comment">// string serialization</span>
<span class="token variable">$jsonCollec</span> <span class="token operator">=</span> <span class="token punctuation">(</span>string<span class="token punctuation">)</span> <span class="token variable">$collec</span><span class="token punctuation">;</span> <span class="token comment">// same as json_encode($collec)</span></code></pre></div>
</div>
<h4>Creating a collection</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>items</td>
<td>array</td>
<td>Array of items for the collection. Default is empty collection</td>
</tr>
<tr>
<td>discrim</td>
<td>string or null</td>
<td>The discriminator used to discriminate between parts. Default 'id'</td>
</tr>
<tr>
<td>class</td>
<td>string or null</td>
<td>The type of class contained in the collection. Default null</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// Creates an empty collection with discriminator of 'id' and no class type.</span>
<span class="token comment">// Any item can be inserted into this collection.</span>
<span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Creates an empty collection with no discriminator and no class type.</span>
<span class="token comment">// Similar to a laravel collection.</span>
<span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Getting an item</h4>
<p>Gets an item from the collection, with a key and value.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>any</td>
<td>The key to search with</td>
</tr>
<tr>
<td>value</td>
<td>any</td>
<td>The value that the key should match</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// Collection with 3 items, discriminator is 'id', no class type</span>
<span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'id'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'text'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'My ID is 1.'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'id'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'text'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'My ID is 2.'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'id'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token single-quoted-string string">'text'</span> <span class="token operator">=</span><span class="token operator">></span> <span class="token single-quoted-string string">'My ID is 3.'</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [</span>
<span class="token comment">//     'id' => 1,</span>
<span class="token comment">//     'text' => 'My ID is 1.'</span>
<span class="token comment">// ]</span>
<span class="token variable">$item</span> <span class="token operator">=</span> <span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'id'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [</span>
<span class="token comment">//     'id' => 1,</span>
<span class="token comment">//     'text' => 'My ID is 1.'</span>
<span class="token comment">// ]</span>
<span class="token variable">$item</span> <span class="token operator">=</span> <span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'text'</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'My ID is 1.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Adding an item</h4>
<p>Adds an item to the collection. Note that if <code class="language-text">class</code> is set in the constructor and the class of the item inserted is not the same, it will not insert.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>$item</td>
<td>any</td>
<td>The item to insert</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// empty, no discrim, no class</span>
<span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'asdf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token boolean constant">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ---</span>

<span class="token keyword">class</span> <span class="token class-name">X</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token variable">$y</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">__construct</span><span class="token punctuation">(</span><span class="token variable">$y</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-</span><span class="token operator">></span><span class="token property">y</span> <span class="token operator">=</span> <span class="token variable">$y</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// empty, discrim 'y', class X</span>
<span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token single-quoted-string string">'y'</span><span class="token punctuation">,</span> <span class="token constant">X</span><span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">X</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// won't insert</span>

<span class="token comment">// new X(123)</span>
<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token single-quoted-string string">'y'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Pulling an item</h4>
<p>Removes an item from the collection and returns it.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>any</td>
<td>The key to look for</td>
</tr>
<tr>
<td>default</td>
<td>any</td>
<td>Default if key is not found. Default null</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns at 1 index - which is actually 2</span>
<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns null</span>
<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns 123</span></code></pre></div>
<h4>Filling the collection</h4>
<p>Fills the collection with an array of items.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Number of items</h4>
<p>Returns the number of items in the collection.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span></code></pre></div>
<h4>Getting the first item</h4>
<p>Gets the first item of the collection.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></code></pre></div>
<h4>Filtering a collection</h4>
<p>Filters the collection with a given callback function. The callback function is called for every item and is called with the item. If the callback returns true, the item is added to the new collection. Returns a new collection.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback</td>
<td>callable</td>
<td>The callback called on every item</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">102</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [ 101, 102 ]</span>
<span class="token variable">$newCollec</span> <span class="token operator">=</span> <span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$item</span> <span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Clearing a collection</h4>
<p>Clears the collection.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// $collec = []</span></code></pre></div>
<h4>Mapping a collection</h4>
<p>A given callback function is called on each item in the collection, and the result is inserted into a new collection.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback</td>
<td>callable</td>
<td>The callback called on every item</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">102</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [ 100, 200, 300, 10000, 10100, 10200 ]</span>
<span class="token variable">$newCollec</span> <span class="token operator">=</span> <span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$item</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Converting to array</h4>
<p>Converts a collection to an array.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$arr</span> <span class="token operator">=</span> <span class="token variable">$collec</span><span class="token operator">-</span><span class="token operator">></span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="permissions">Permissions</h2><div class="api-module--section--1E1xV"><p>There are two types of permissions - channel permissions and role permissions. They are represented by their individual classes, but both extend the same abstract permission class.</p>
<h3>Properties</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bitwise</td>
<td>int</td>
<td>bitwise representation</td>
</tr>
<tr>
<td>create_instant_invite</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td>manage_channels</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td>view_channel</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td>manage_roles</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td>manage_webhooks</td>
<td>bool</td>
<td></td>
</tr>
</tbody>
</table>
<p>The rest of the properties are listed under each permission type, all are type of <code class="language-text">bool</code>.</p>
<h3>Methods</h3>
<h4>Get all valid permissions</h4>
<p>Returns a list of valid permissions, in key value form. Static method.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token function">var_dump</span><span class="token punctuation">(</span>ChannelPermission<span class="token punctuation">:</span><span class="token punctuation">:</span><span class="token function">getPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [</span>
<span class="token comment">//     'priority_speaker' => 0x123,</span>
<span class="token comment">//     // ...</span>
<span class="token comment">// ]</span></code></pre></div>
<h3>Channel Permission</h3>
<p>Represents permissions for voice and text channels.</p>
<h4>Voice Channel Permissions</h4>
<ul>
<li><code class="language-text">create_instant_invite</code></li>
<li><code class="language-text">manage_channels</code></li>
<li><code class="language-text">view_channel</code></li>
<li><code class="language-text">manage_roles</code></li>
<li><code class="language-text">manage_webhooks</code></li>
<li><code class="language-text">priority_speaker</code></li>
<li><code class="language-text">stream</code></li>
<li><code class="language-text">connect</code></li>
<li><code class="language-text">speak</code></li>
<li><code class="language-text">mute_members</code></li>
<li><code class="language-text">deafen_members</code></li>
<li><code class="language-text">move_members</code></li>
<li><code class="language-text">use_vad</code></li>
</ul>
<h4>Text Channel Permissions</h4>
<ul>
<li><code class="language-text">create_instant_invite</code></li>
<li><code class="language-text">manage_channels</code></li>
<li><code class="language-text">view_channel</code></li>
<li><code class="language-text">manage_roles</code></li>
<li><code class="language-text">manage_webhooks</code></li>
<li><code class="language-text">add_reactions</code></li>
<li><code class="language-text">send_messages</code></li>
<li><code class="language-text">send_tts_messages</code></li>
<li><code class="language-text">manage_messages</code></li>
<li><code class="language-text">embed_links</code></li>
<li><code class="language-text">attach_files</code></li>
<li><code class="language-text">read_message_history</code></li>
<li><code class="language-text">mention_everyone</code></li>
<li><code class="language-text">use_external_emojis</code></li>
</ul>
<h3>Role Permissions</h3>
<p>Represents permissions for roles.</p>
<h4>Permissions</h4>
<ul>
<li><code class="language-text">create_instant_invite</code></li>
<li><code class="language-text">manage_channels</code></li>
<li><code class="language-text">view_channel</code></li>
<li><code class="language-text">manage_roles</code></li>
<li><code class="language-text">manage_webhooks</code></li>
<li><code class="language-text">kick_members</code></li>
<li><code class="language-text">ban_members</code></li>
<li><code class="language-text">administrator</code></li>
<li><code class="language-text">manage_guild</code></li>
<li><code class="language-text">view_audit_log</code></li>
<li><code class="language-text">view_guild_insights</code></li>
<li><code class="language-text">change_nicknames</code></li>
<li><code class="language-text">manage_nicknames</code></li>
<li><code class="language-text">manage_emojis</code></li>
</ul></div></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-05a1ef811a3c5c3b1aa6.js"],"app":["/app-b68a0614aa414b5dac62.js"],"component---src-components-template-js":["/component---src-components-template-js-f3a1756cf76e8b26da6c.js"]};/*]]>*/</script><script src="/polyfill-05a1ef811a3c5c3b1aa6.js" nomodule=""></script><script src="/component---src-components-template-js-f3a1756cf76e8b26da6c.js" async=""></script><script src="/styles-407fe62976dc5310c43e.js" async=""></script><script src="/app-b68a0614aa414b5dac62.js" async=""></script><script src="/framework-06f646d936b841f99ebd.js" async=""></script><script src="/webpack-runtime-e18f82409c4e6673cf3d.js" async=""></script></body></html>