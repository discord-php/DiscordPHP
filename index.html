<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style id="typography.js">html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block}audio:not([controls]){display:none;height:0}progress{vertical-align:baseline}[hidden],template{display:none}a{background-color:transparent;}a:active,a:hover{outline-width:0}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:inherit;font-weight:bolder}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background-color:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}img{border-style:none}svg:not(:root){overflow:hidden}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}figure{margin:1em 40px}hr{box-sizing:content-box;height:0;overflow:visible}button,input,optgroup,select,textarea{font:inherit;margin:0}optgroup{font-weight:700}button,input{overflow:visible}button,select{text-transform:none}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]:-moz-focusring,[type=reset]:-moz-focusring,[type=submit]:-moz-focusring,button:-moz-focusring{outline:1px dotted ButtonText}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}textarea{overflow:auto}[type=checkbox],[type=radio]{box-sizing:border-box;padding:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-cancel-button,[type=search]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-input-placeholder{color:inherit;opacity:.54}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{font:100%/1.625 -apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';box-sizing:border-box;overflow-y:scroll;}*{box-sizing:inherit;}*:before{box-sizing:inherit;}*:after{box-sizing:inherit;}body{color:hsla(0,0%,0%,0.8);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:normal;word-wrap:break-word;font-kerning:normal;-moz-font-feature-settings:"kern", "liga", "clig", "calt";-ms-font-feature-settings:"kern", "liga", "clig", "calt";-webkit-font-feature-settings:"kern", "liga", "clig", "calt";font-feature-settings:"kern", "liga", "clig", "calt";}img{max-width:100%;margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}h1{margin-left:0;margin-right:0;margin-top:2.4375rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:1.21875rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:2rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h2{margin-left:0;margin-right:0;margin-top:1.625rem;padding-bottom:calc(0.40625rem - 1px);padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.40625rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.51572rem;line-height:1.1;border-bottom:1px solid hsla(0,0%,0%,0.07);}h3{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1.31951rem;line-height:1.1;}h4{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:1rem;line-height:1.1;}h5{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:inherit;font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.87055rem;line-height:1.1;}h6{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;color:hsla(0,0%,0%,0.53);font-family:-apple-system,'BlinkMacSystemFont','Segoe UI','Roboto','Helvetica','Arial',sans-serif,'Apple Color Emoji','Segoe UI Emoji','Segoe UI Symbol';font-weight:600;text-rendering:optimizeLegibility;font-size:0.81225rem;line-height:1.1;}hgroup{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}ul{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}ol{margin-left:1.625rem;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;list-style-position:outside;list-style-image:none;}dl{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}dd{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}p{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}figure{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}pre{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:0.85rem;line-height:1.625rem;}table{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;font-size:1rem;line-height:1.625rem;border-collapse:collapse;width:100%;}fieldset{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}blockquote{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:calc(0.8125rem - 1px);padding-right:0;padding-top:0;margin-bottom:0.8125rem;border-left:4px solid hsla(0,0%,0%,0.13);color:hsla(0,0%,0%,0.53);}form{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}noscript{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}iframe{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}hr{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:calc(0.8125rem - 1px);background:hsla(0,0%,0%,0.2);border:none;height:1px;}address{margin-left:0;margin-right:0;margin-top:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;margin-bottom:0.8125rem;}b{font-weight:600;}strong{font-weight:600;}dt{font-weight:600;}th{font-weight:600;}li{margin-bottom:calc(0.8125rem / 2);}ol li{padding-left:0;}ul li{padding-left:0;}li > ol{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}li > ul{margin-left:1.625rem;margin-bottom:calc(0.8125rem / 2);margin-top:calc(0.8125rem / 2);}blockquote *:last-child{margin-bottom:0;}li *:last-child{margin-bottom:0;}p *:last-child{margin-bottom:0;}li > p{margin-bottom:calc(0.8125rem / 2);}code{font-size:0.85rem;line-height:1.625rem;}kbd{font-size:0.85rem;line-height:1.625rem;}samp{font-size:0.85rem;line-height:1.625rem;}abbr{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}acronym{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;}abbr[title]{border-bottom:1px dotted hsla(0,0%,0%,0.5);cursor:help;text-decoration:none;}thead{text-align:left;}td,th{text-align:left;border-bottom:1px solid hsla(0,0%,0%,0.12);font-feature-settings:"tnum";-moz-font-feature-settings:"tnum";-ms-font-feature-settings:"tnum";-webkit-font-feature-settings:"tnum";padding-left:1.08333rem;padding-right:1.08333rem;padding-top:0.8125rem;padding-bottom:calc(0.8125rem - 1px);}th:first-child,td:first-child{padding-left:0;}th:last-child,td:last-child{padding-right:0;}h3,h4,h5,h6{margin-bottom:0.8125rem;margin-top:1.625rem;}ol,ul{margin-left:2.03125rem;}li>ol,li>ul{margin-left:2.03125rem;}a{color:#4078c0;text-decoration:none;}a:hover,a:active{text-decoration:underline;}</style><style data-href="/styles.f0778e4a2f7db4b1cef5.css" id="gatsby-global-css">code[class*=language-],pre[class*=language-]{color:#f8f8f2;background:none;text-shadow:0 1px rgba(0,0,0,.3);font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;hyphens:none}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto;border-radius:.3em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#272822}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#8292a2}.token.punctuation{color:#f8f8f2}.token.namespace{opacity:.7}.token.constant,.token.deleted,.token.property,.token.symbol,.token.tag{color:#f92672}.token.boolean,.token.number{color:#ae81ff}.token.attr-name,.token.builtin,.token.char,.token.inserted,.token.selector,.token.string{color:#a6e22e}.language-css .token.string,.style .token.string,.token.entity,.token.operator,.token.url,.token.variable{color:#f8f8f2}.token.atrule,.token.attr-value,.token.class-name,.token.function{color:#e6db74}.token.keyword{color:#66d9ef}.token.important,.token.regex{color:#fd971f}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.layout-module--container--zLeA4>header{margin-bottom:1.5rem}.layout-module--hidden--5UP4l{opacity:0}@media (min-width:55em){.layout-module--container--zLeA4{display:grid;grid-column-gap:2.9em;grid-template-columns:13.05em 2fr}.layout-module--container--zLeA4>nav{grid-column:1/2}.layout-module--container--zLeA4>main{grid-column:2/3}}.layout-module--versionDropdown--1WVa5{display:flex;align-items:flex-start}header{--header-background-color:#fff;--input-background-color:#eee;display:flex;background-color:var(--header-background-color);color:#fff;position:-webkit-sticky;position:sticky;z-index:1;top:0;border-bottom:3px solid #fff}header h1{grid-column:2/3;grid-row:1/2;color:inherit;margin:0;font-size:1.125rem;align-self:center;text-align:right}@media (min-width:55em){header{grid-template-columns:13.05em auto -webkit-max-content;grid-template-columns:13.05em auto max-content;grid-column-gap:2.9em}header h1{text-align:left}}header>.search{display:grid;grid-template-rows:auto 1fr;max-height:100vh;grid-column:1/3;grid-row:1/2;--whitespace:1.25rem;width:100%;position:relative;z-index:1}header>.search .input{background-color:var(--header-background-color);color:#fff;display:grid}header>.search .input input{display:block;box-sizing:border-box;width:100%;border:0;outline:none;background:var(--input-background-color);padding:.1rem var(--whitespace);grid-row:1/-1;grid-column:1/-1}header .icon-search{fill:currentColor;grid-row:1/-1;grid-column:1/-1;align-self:center;margin-left:.3rem;width:1em;height:1em;font-size:.6em;color:#000;position:relative;z-index:1}header>.search .input input::-webkit-input-placeholder{color:#000}header>.search .input input::placeholder{color:#000}header>.search .results{overflow-y:auto;margin:0;background:#fff;color:#000;list-style:none;padding:0 var(--whitespace);width:100%}header>.search .results li:first-child{padding-top:var(--whitespace)}header>.search .results li:last-child{padding-bottom:var(--whitespace);margin-bottom:0;border-bottom:3px solid #eee}header>.search a{color:inherit;background:none;display:block}header>.search a:focus,header>.search a:hover{text-decoration:underline}header>button{grid-row:1/2;grid-column:-2/-1;background:transparent;color:#ddd;border:0;padding:0 1rem;cursor:pointer;height:2rem}header>button:active,header>button:focus,header>button:hover{color:#1ca086}table{table-layout:fixed}@media (min-width:55em){header>.search{grid-column:1/-1}header button{display:none!important}}header>button>svg{fill:currentColor;vertical-align:middle}main :not(pre)>code[class*=language-]{color:#000;padding:.2em .4em;border-radius:3px;white-space:normal;background:rgba(27,31,35,.050980392156862744);text-shadow:none;font-size:85%;overflow-wrap:break-word;word-break:break-word}.api-module--container--3kcA-{--description-background-color:#fff;--code-background-color:#191a18;--code-foreground-color:#fff;padding:1.25rem 1rem}.api-module--table--orE2T{max-width:100%;overflow-x:auto}main [id]:before{display:block;content:" ";margin-top:-5rem;height:5rem;visibility:hidden}main h2:first-child{margin-top:0}.api-module--container--3kcA- pre{background-color:var(--code-background-color);color:var(--code-foreground-color);padding:.725em 1.45em;width:100%;overflow-x:auto}@media (min-width:55em){.api-module--container--3kcA-{padding:0}main{--description-background-color:#fff;--code-background-color:#0a0b09;--code-foreground-color:#fff;background-image:linear-gradient(90deg,var(--description-background-color),var(--description-background-color) 50%,var(--code-background-color) 0,var(--code-background-color))}.api-module--section--1E1xV{display:grid;grid-template-columns:1fr 1fr;grid-column-gap:2.9em}.api-module--section--1E1xV>:not([data-language]){max-width:100%;overflow-x:auto;overflow-y:hidden;grid-column:1/2;padding-bottom:.11rem}.api-module--section--1E1xV>[data-language]{overflow-x:auto;grid-column:2/3;background-color:var(--code-background-color);color:var(--code-foreground-color)}.api-module--section--1E1xV>[data-language] pre{margin:0;padding:0}}.api-module--nav--1hEWA{position:-webkit-sticky;position:sticky;top:0;background-color:#eee;padding:0;max-height:100vh;overflow-y:auto}.api-module--nav--1hEWA h1{display:inline}.api-module--nav--1hEWA button{display:block;margin-bottom:.75em}.api-module--nav--1hEWA a:not(:hover):not(:active):not(:focus){color:inherit}.api-module--nav--1hEWA a{text-shadow:none;background-image:none;text-decoration:none;display:block}.api-module--nav--1hEWA>ol{padding:1rem!important}.api-module--nav--1hEWA li,.api-module--nav--1hEWA ol{list-style:none;margin-left:0;padding-left:0}.api-module--nav--1hEWA li li{font-size:.875em}.api-module--subhidden--tmTLp{display:none!important}.api-module--activelink--JBQ4j{position:-webkit-sticky;position:sticky;top:0;display:block;background-color:#fff;border-bottom:1px solid rgba(0,0,0,.12)}.api-module--activemenuitem--3O5Ag{font-weight:700}.api-module--deprecated--30wEb{background-color:#ffe7e8;padding:1.25rem;border-radius:.25rem;margin-bottom:1rem}@media (max-width:55em){.api-module--hidden--2sqxv{display:none!important}}</style><meta name="generator" content="Gatsby 2.32.13"/><title data-react-helmet="true">DiscordPHP</title><meta data-react-helmet="true" charSet="utf-8"/><link as="script" rel="preload" href="/webpack-runtime-e5e1ee016612577d5f35.js"/><link as="script" rel="preload" href="/framework-22e284bb9c60c9c4a40e.js"/><link as="script" rel="preload" href="/app-fd112211a1e13a712b36.js"/><link as="script" rel="preload" href="/styles-0ec71dd62c66cb95665c.js"/><link as="script" rel="preload" href="/component---src-components-template-js-26f01ab8b6c11c4bc871.js"/><link as="fetch" rel="preload" href="/page-data/index/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div><div class="layout-module--container--zLeA4"><nav class="api-module--nav--1hEWA"><ol class="api-module--hidden--2sqxv"><li><a href="#intro">Intro</a></li><li><a href="#faq">FAQ</a></li><li><a href="#basics">Basics</a></li><li><a href="#events">Events</a><ol class="api-module--subhidden--tmTLp"><li><a href="#application-commands">Application Commands</a></li><li><a href="#auto-moderations">Auto Moderations</a></li><li><a href="#channels">Channels</a></li><li><a href="#guilds">Guilds</a></li><li><a href="#invites">Invites</a></li><li><a href="#interactions">Interactions</a></li><li><a href="#messages">Messages</a></li><li><a href="#presences">Presences</a></li><li><a href="#stage-instances">Stage Instances</a></li><li><a href="#voices">Voices</a></li><li><a href="#webhooks">Webhooks</a></li></ol></li><li><a href="#repositories">Repositories</a></li><li><a href="#parts">Parts</a><ol class="api-module--subhidden--tmTLp"><li><a href="#guild">Guild</a></li><li><a href="#channel">Channel</a></li><li><a href="#member">Member</a></li><li><a href="#message">Message</a></li><li><a href="#user">User</a></li></ol></li><li><a href="#collection">Collection</a></li><li><a href="#permissions">Permissions</a></li><li><a href="#message-builder">Message Builder</a></li><li><a href="#message-components">Message Components</a></li><li><a href="#interactions">Interactions</a></li></ol></nav><main class="api-module--container--3kcA-"><h1>DiscordPHP</h1><h2 id="intro">Intro</h2><div class="api-module--section--1E1xV"><p>DiscordPHP is a wrapper for the Discord REST, WebSocket and Voice APIs. Built on top of <a href="https://reactphp.org/">ReactPHP</a> components. This documentation is based off the latest release.</p>
<p>This documentation page will be moved to class reference. You can now access it <a href="http://discord-php.github.io/DiscordPHP/guide/">here</a>.</p>
<h3>Requirements</h3>
<ul>
<li>
<p>PHP 8.0 CLI</p>
<ul>
<li>Will not run on a webserver (FPM, CGI), you must run through CLI. A bot is a long-running process.</li>
<li>x86 (32-bit) PHP requires ext-gmp extension enabled for handling new Permission values.</li>
</ul>
</li>
<li><code class="language-text">ext-json</code> for JSON parsing.</li>
<li><code class="language-text">ext-zlib</code> for gateway packet compression.</li>
</ul>
<h4>Recommended Extensions</h4>
<ul>
<li>One of <code class="language-text">ext-uv</code>, <code class="language-text">ext-libev</code> or <code class="language-text">evt-event</code> (in order of preference) for a faster, and more performant event loop.</li>
<li><code class="language-text">ext-mbstring</code> if you may handle non-english characters.</li>
<li><code class="language-text">ext-gmp</code> if running 32-bit PHP.</li>
</ul>
<h4>Voice Requirements</h4>
<ul>
<li>
<p>x86_64 Windows, Linux or Darwin based OS.</p>
<ul>
<li>If you are running on Windows, you must be using PHP 8.0.</li>
</ul>
</li>
<li><code class="language-text">ext-sodium</code> for voice encryption.</li>
<li>FFmpeg</li>
</ul>
<h3>Development Environment Recommendations</h3>
<p>We recommend using an editor with support for the <a href="https://microsoft.github.io/language-server-protocol/">Language Server Protocol</a>.
A list of supported editors can be found <a href="https://microsoft.github.io/language-server-protocol/implementors/servers/">here</a>.
Here are some commonly used editors:</p>
<ul>
<li>Visual Studio Code (built-in LSP support)</li>
<li>Vim/Neovim (with the <a href="https://github.com/neoclide/coc.nvim">coc.nvim</a> plugin for LSP support)</li>
<li>PHPStorm (built-in PHP support)</li>
</ul>
<p>We recommend installing <a href="https://intelephense.com/">PHP Intelephense</a> alongside your LSP-equipped editor for code completion alongside other helpful features. There is no need to pay for the premium features, the free version will suffice.</p>
<h3>Installation</h3>
<p>Installation requries <a href="https://getcomposer.org">Composer</a>.</p>
<p>To install the latest release:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token operator">></span> <span class="token function">composer</span> require team-reflex/discord-php</code></pre></div>
<p>If you would like to run on the latest <code class="language-text">master</code> branch:</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"><span class="token operator">></span> <span class="token function">composer</span> require team-reflex/discord-php dev-master</code></pre></div>
<p><code class="language-text">master</code> can be substituted for any other branch name to install that branch.</p>
<h3>Key Tips</h3>
<p>As Discord is a real-time application, events come frequently and it is vital that your code does not block the ReactPHP event loop.
Most, if not all, functions return promises, therefore it is vital that you understand the concept of asynchronous programming with promises.
You can learn more about ReactPHP promises <a href="https://reactphp.org/promise/">here</a>.</p>
<h3>Help</h3>
<p>If you need any help, feel free to join the <a href="https://discord.gg/dphp">PHP Discorders</a> Discord and someone should be able to give you a hand. We are a small community so please be patient if someone can't help you straight away.</p>
<h3>Contributing</h3>
<p>All contributions are welcome through pull requests in our GitHub repository. At the moment we would love contributions towards:</p>
<ul>
<li>Unit testing</li>
<li>Documentation</li>
</ul></div><h2 id="faq">FAQ</h2><div class="api-module--section--1E1xV"><h3><code class="language-text">Class 'X' not found</code></h3>
<p>You most likely haven't imported the class that you are trying to use. Please check the <a href="http://discord-php.github.io/DiscordPHP/guide/">class reference</a> and search for the class that you are trying to use. Add an import statement at the top of the file like shown on the right.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Discord<span class="token punctuation">\</span>X</span><span class="token punctuation">;</span></span></code></pre></div>
<p>If you don't want to have to import a class every time, you should look into the PHP Intelephense language server (written above) which will do automatic imports for you.</p>
<h3>There are less members and/or users than expected</h3>
<p>Server members are guarded by a priviliged server intent which must be enabled in the <a href="https://discord.com/developers/applications">Discord Developer Portal</a>. Note that you will need to verify your bot if you use this intent and pass 100 guilds.</p>
<p>You also need to enable the <code class="language-text">loadAllMembers</code> option in your code, as shown on the right.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Discord</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'token'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'...'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'loadAllMembers'</span> <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// Enable this option</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>If you are using DiscordPHP Version 6 or greater, you need to enable the <code class="language-text">GUILD_MEMBERS</code> intent as well as the <code class="language-text">loadAllMembers</code> option. The shown code will enable all intents minus the <code class="language-text">GUILD_PRESENCES</code> intent (which is also priviliged).</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Discord</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'token'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'...'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'loadAllMembers'</span> <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'intents'</span> <span class="token operator">=></span> <span class="token class-name static-context">Intents</span><span class="token operator">::</span><span class="token function">getDefaultIntents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token class-name">Intents</span><span class="token operator">::</span><span class="token constant">GUILD_MEMBERS</span> <span class="token comment">// Enable the `GUILD_MEMBERS` intent</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span></code></pre></div></div><h2 id="basics">Basics</h2><div class="api-module--section--1E1xV"><p>First step is to include the Composer autoload file and <a href="https://www.php.net/manual/en/language.namespaces.importing.php">import</a> any required classes.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">use</span> <span class="token package">Discord<span class="token punctuation">\</span>Discord</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Discord<span class="token punctuation">\</span>WebSockets<span class="token punctuation">\</span>Intents</span><span class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Discord<span class="token punctuation">\</span>WebSockets<span class="token punctuation">\</span>Event</span><span class="token punctuation">;</span>

<span class="token keyword">include</span> <span class="token constant">__DIR__</span><span class="token operator">.</span><span class="token string single-quoted-string">'/vendor/autoload.php'</span><span class="token punctuation">;</span></span></code></pre></div>
<br>
<p>The Discord instance can be set up with an array of options. All are optional except for token:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Discord</span><span class="token punctuation">(</span><span class="token punctuation">[</span></code></pre></div>
<p><code class="language-text">token</code> is your Discord token. <strong>Required</strong>.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token string single-quoted-string">'token'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'Your-Token-Here'</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">intents</code> can be an array of valid intents <em>or</em> an integer representing the intents. Default is all intents minus any privileged intents.
At the moment this means all intents minus <code class="language-text">GUILD_MEMBERS</code>, <code class="language-text">GUILD_PRESENCES</code>, and <code class="language-text">MESSAGE_CONTENT</code>. To enable these intents you must first enable them in your
Discord developer portal.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token string single-quoted-string">'intents'</span> <span class="token operator">=></span> <span class="token punctuation">[</span>
        <span class="token class-name static-context">Intents</span><span class="token operator">::</span><span class="token constant">GUILDS</span><span class="token punctuation">,</span> <span class="token class-name static-context">Intents</span><span class="token operator">::</span><span class="token constant">GUILD_BANS</span><span class="token punctuation">,</span> <span class="token comment">// ...</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// or</span>
    <span class="token string single-quoted-string">'intents'</span> <span class="token operator">=></span> <span class="token number">12345</span><span class="token punctuation">,</span>
    <span class="token comment">// or</span>
    <span class="token string single-quoted-string">'intents'</span> <span class="token operator">=></span> <span class="token class-name static-context">Intents</span><span class="token operator">::</span><span class="token function">getDefaultIntents</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token class-name">Intents</span><span class="token operator">::</span><span class="token constant">GUILD_MEMBERS</span><span class="token punctuation">,</span> <span class="token comment">// default intents as well as guild members</span></code></pre></div>
<p><code class="language-text">loadAllMembers</code> is a boolean whether all members should be fetched and stored on bot start.
Loading members takes a while to retrieve from Discord and store, so default is false.
This requires the <code class="language-text">GUILD_MEMBERS</code> intent to be enabled in DiscordPHP. See above for more details.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token string single-quoted-string">'loadAllMembers'</span> <span class="token operator">=></span> <span class="token constant boolean">false</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">storeMessages</code> is a boolean whether messages received and sent should be stored. Default is false.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token string single-quoted-string">'storeMessages'</span> <span class="token operator">=></span> <span class="token constant boolean">false</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">retrieveBans</code> is a boolean whether bans should be retrieved on bot load. Default is false.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token string single-quoted-string">'retrieveBans'</span> <span class="token operator">=></span> <span class="token constant boolean">false</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">disabledEvents</code> is an array of events that will be disabled. By default all events are enabled.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token string single-quoted-string">'disabledEvents'</span> <span class="token operator">=></span> <span class="token punctuation">[</span>
        <span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_CREATE</span><span class="token punctuation">,</span> <span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_DELETE</span><span class="token punctuation">,</span> <span class="token comment">// ...</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">loop</code> is an instance of a ReactPHP event loop that can be provided to the client rather than creating a new loop.
Useful if you want to use other React components. By default, a new loop is created.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token string single-quoted-string">'loop'</span> <span class="token operator">=></span> <span class="token class-name class-name-fully-qualified static-context"><span class="token punctuation">\</span>React<span class="token punctuation">\</span>EventLoop<span class="token punctuation">\</span>Factory</span><span class="token operator">::</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">logger</code> is an instance of a logger that implements <code class="language-text">LoggerInterface</code>. By default, a new Monolog logger with log level DEBUG is created to print to stdout.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token string single-quoted-string">'logger'</span> <span class="token operator">=></span> <span class="token keyword">new</span> <span class="token class-name class-name-fully-qualified"><span class="token punctuation">\</span>Monolog<span class="token punctuation">\</span>Logger</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'New logger'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">dnsConfig</code> is an instace of <code class="language-text">Config</code> or a string of name server address. By default system setting is used and fall back to 8.8.8.8 when system configuration is not found. Currently only used for VoiceClient.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token string single-quoted-string">'dnsConfig'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'1.1.1.1'</span><span class="token punctuation">,</span></code></pre></div>
<hr>
<p>The following options should only be used by large bots that require sharding. If you plan to use sharding, <a href="https://discord.com/developers/docs/topics/gateway#sharding">read up</a> on how Discord implements it.</p>
<p><code class="language-text">shardId</code> is the ID of the bot shard.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token string single-quoted-string">'shardId'</span> <span class="token operator">=></span> <span class="token number">0</span><span class="token punctuation">,</span></code></pre></div>
<p><code class="language-text">shardCount</code> is the number of shards that you are using.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token string single-quoted-string">'shardCount'</span> <span class="token operator">=></span> <span class="token number">5</span><span class="token punctuation">,</span></code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">]);</code></pre></div>
<hr>
<p>Gateway events should be registered inside the <code class="language-text">init</code> event, which is emitted once when the bot first starts and has connected to the gateway.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'init'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre></div>
<p>To register an event we use the <code class="language-text">$discord->on(...)</code> function, which registers a handler.
A list of events is available <a href="https://github.com/discord-php/DiscordPHP/blob/master/src/Discord/WebSockets/Event.php#L30-L75">here</a>. They are described in more detail in further sections of the documentation.
All events take a callback which is called when the event is triggered, and the callback is called with an object representing the content of the event and an instance of the <code class="language-text">Discord</code> client.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php">    <span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ... handle message sent</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<div class="gatsby-highlight" data-language="text"><pre class="language-text"><code class="language-text">});</code></pre></div>
<br>
<p>Finally, the event loop needs to be started. Treat this as an infinite loop.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<div>
If you want to stop the bot you can run:
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>If you want to stop the bot without stopping the event loop, the close function takes a boolean:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">close</span><span class="token punctuation">(</span><span class="token constant boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
</div></div><h2 id="events">Events</h2><div class="api-module--section--1E1xV"><p>Events are payloads sent over the socket to a client that correspond to events in Discord.</p>
<p>All gateway events are enabled by default and can be individually disabled using <code class="language-text">disabledEvents</code> options.
Most events also requires the respective Intents enabled (as well privileged ones enabled from <a href="https://discord.com/developers/applications">Developers Portal</a>) regardless the enabled event setting.</p>
<p>To listen on gateway events, use the event emitter callback and <code class="language-text">Event</code> name constants.
Some events are internally handled by the library and may not be registered a listener:</p>
<ul>
<li><code class="language-text">Event::READY</code></li>
<li><code class="language-text">Event::RESUMED</code></li>
<li><code class="language-text">Event::GUILD_MEMBERS_CHUNK</code></li>
</ul>
<p>If you are an advanced user, you may listen to those events before internally handled with the library by parsing the 'raw' dispatch event data.</p></div><h2 id="application-commands">Application Commands</h2><div class="api-module--section--1E1xV"><h3>Application Command Permissions Update</h3>
<p>Called with an <code class="language-text">CommandPermissions</code> object when an application command's permissions are updated.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">APPLICATION_COMMAND_PERMISSIONS_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">CommandPermissions</span> <span class="token variable">$commandPermission</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token class-name type-declaration">CommandPermissions</span> <span class="token variable">$oldCommandPermission</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="auto-moderations">Auto Moderations</h2><div class="api-module--section--1E1xV"><p>All auto moderation related events are currently only sent to bot users which have the <code class="language-text">MANAGE_GUILD</code> permission.</p>
<h3>Auto Moderation Rule Create</h3>
<p>Called with a <code class="language-text">Rule</code> object when an auto moderation rule is created.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">AUTO_MODERATION_RULE_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Rule</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Requires the <code class="language-text">Intents::AUTO_MODERATION_CONFIGURATION</code> intent.</p>
<h3>Auto Moderation Rule Update</h3>
<p>Called with a <code class="language-text">Rule</code> object when an auto moderation rule is updated.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">AUTO_MODERATION_RULE_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Rule</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token class-name type-declaration">Rule</span> <span class="token variable">$oldRule</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Auto Moderation Rule Delete</h3>
<p>Called with a <code class="language-text">Rule</code> object when an auto moderation rule is deleted.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">AUTO_MODERATION_RULE_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Rule</span> <span class="token variable">$rule</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Requires the <code class="language-text">Intents::AUTO_MODERATION_CONFIGURATION</code> intent.</p>
<h3>Auto Moderation Action Execution</h3>
<p>Called with an <code class="language-text">AutoModerationActionExecution</code> object when an auto moderation rule is triggered and an action is executed (e.g. when a message is blocked).</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// use `Discord\Parts\WebSockets\AutoModerationActionExecution`;</span>

<span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">AUTO_MODERATION_ACTION_EXECUTION</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">AutoModerationActionExecution</span> <span class="token variable">$actionExecution</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Requires the <code class="language-text">Intents::AUTO_MODERATION_EXECUTION</code> intent.</p></div><h2 id="channels">Channels</h2><div class="api-module--section--1E1xV"><p>Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<h3>Channel Create</h3>
<p>Called with a <code class="language-text">Channel</code> object when a new channel is created, relevant to the Bot.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">CHANNEL_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Channel</span> <span class="token variable">$channel</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Channel Update</h3>
<p>Called with two <code class="language-text">Channel</code> objects when a channel is updated.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">CHANNEL_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Channel</span> <span class="token variable">$channel</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token class-name type-declaration">Channel</span> <span class="token variable">$oldChannel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Channel Delete</h3>
<p>Called with a <code class="language-text">Channel</code> object when a channel relevant to the Bot is deleted.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">CHANNEL_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Channel</span> <span class="token variable">$channel</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Channel Pins Update</h3>
<p>Called with an object when a message is pinned or unpinned in a text channel. This is not sent when a pinned message is deleted.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">CHANNEL_PINS_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$pins</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// {</span>
    <span class="token comment">//     "guild_id": "",</span>
    <span class="token comment">//     "channel_id": "",</span>
    <span class="token comment">//     "last_pin_timestamp": ""</span>
    <span class="token comment">// }</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<blockquote>
<p>For direct messages, it only requires the <code class="language-text">Intents::DIRECT_MESSAGES</code> intent.</p>
</blockquote>
<h2>Threads</h2>
<p>Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<h3>Thread Create</h3>
<p>Called with a <code class="language-text">Thread</code> object when a thread is created, relevant to the Bot.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">THREAD_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Thread</span> <span class="token variable">$thread</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Thread Update</h3>
<p>Called with a <code class="language-text">Thread</code> object when a thread is updated.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">THREAD_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Thread</span> <span class="token variable">$thread</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token class-name type-declaration">Thread</span> <span class="token variable">$oldThread</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Thread Delete</h3>
<p>Called with an old <code class="language-text">Thread</code> object when a thread relevant to the Bot is deleted.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">THREAD_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword type-hint">object</span> <span class="token variable">$thread</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$thread</span> <span class="token keyword">instanceof</span> <span class="token class-name">Thread</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// $thread was cached</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// $thread was not in cache:</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token comment">// {</span>
    <span class="token comment">//     "type": 0,</span>
    <span class="token comment">//     "id": "",</span>
    <span class="token comment">//     "guild_id": "",</span>
    <span class="token comment">//     "parent_id": ""</span>
    <span class="token comment">// }</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Thread List Sync</h3>
<p>Called when list of threads are synced.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">THREAD_LIST_SYNC</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Collection</span> <span class="token variable">$threads</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Thread Member Update</h3>
<p>Called with a Thread <code class="language-text">Member</code> object when the thread member for the current Bot is updated.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// use Discord\Parts\Thread\Member;</span>

<span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">THREAD_MEMBER_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Member</span> <span class="token variable">$threadMember</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Thread Members Update</h3>
<p>Called with a <code class="language-text">Thread</code> object when anyone is added to or removed from a thread. If the Bot does not have the <code class="language-text">Intents::GUILD_MEMBERS</code>, then this event will only be called if the Bot was added to or removed from the thread.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">THREAD_MEMBERS_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Thread</span> <span class="token variable">$thread</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="guilds">Guilds</h2><div class="api-module--section--1E1xV"><p>Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<h3>Guild Create</h3>
<p>Called with a <code class="language-text">Guild</code> object in one of the following situations:</p>
<ol>
<li>When the Bot is first starting and the guilds are becoming available. (unless the listener is put inside after 'init' event)</li>
<li>When a guild was unavailable and is now available due to an outage.</li>
<li>When the Bot joins a new guild.</li>
</ol>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword type-hint">object</span> <span class="token variable">$guild</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span> <span class="token punctuation">(</span><span class="token variable">$guild</span> <span class="token keyword">instanceof</span> <span class="token class-name">Guild</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// the guild is unavailable due to an outage, $guild is a stdClass</span>
        <span class="token comment">// {</span>
        <span class="token comment">//     "id": "",</span>
        <span class="token comment">//     "unavailable": true,</span>
        <span class="token comment">// }</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// the Bot has joined the guild</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Update</h3>
<p>Called with two <code class="language-text">Guild</code> objects when a guild is updated.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Guild</span> <span class="token variable">$guild</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token class-name type-declaration">Guild</span> <span class="token variable">$oldGuild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Delete</h3>
<p>Called with a <code class="language-text">Guild</code> object in one of the following situations:</p>
<ol>
<li>The Bot was removed from a guild.</li>
<li>The guild is unavailable due to an outage.</li>
</ol>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword type-hint">object</span> <span class="token variable">$guild</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token keyword type-hint">bool</span> <span class="token variable">$unavailable</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$unavailable</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// the guild is unavailabe due to an outage, $guild is a stdClass</span>
        <span class="token comment">// {</span>
        <span class="token comment">//     "guild_id": "",</span>
        <span class="token comment">//     "unavailable": "",</span>
        <span class="token comment">// }</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// the Bot has been kicked from the guild</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2>Guild Moderation</h2>
<p>Requires the <code class="language-text">Intents::GUILD_MODERATION</code> intent and <code class="language-text">ban_members</code> or <code class="language-text">view_audit_log</code> permission.</p>
<h3>Guild Audit Log Entry Create</h3>
<p>Called with an <code class="language-text">Audit Log Entry</code> object when an audit log entry is created. Requires the <code class="language-text">view_audit_log</code> permission.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_AUDIT_LOG_ENTRY_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Entry</span> <span class="token variable">$entry</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Ban Add</h3>
<p>Called with a <code class="language-text">Ban</code> object when a member is banned from a guild. Requires the <code class="language-text">ban_members</code> permission.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_BAN_ADD</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Ban</span> <span class="token variable">$ban</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Ban Remove</h3>
<p>Called with a <code class="language-text">Ban</code> object when a user is unbanned from a guild. Requires the <code class="language-text">ban_members</code> permission.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_BAN_REMOVE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Ban</span> <span class="token variable">$ban</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2>Guild Emojis and Stickers</h2>
<p>Requires the <code class="language-text">Intents::GUILD_EMOJIS_AND_STICKERS</code> intent.</p>
<h3>Guild Emojis Update</h3>
<p>Called with two Collections of <code class="language-text">Emoji</code> objects when a guild's emojis have been added/updated/deleted. <code class="language-text">$oldEmojis</code> <em>may</em> be empty if it was not cached or there were previously no emojis.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_EMOJIS_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Collection</span> <span class="token variable">$emojis</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Collection</span> <span class="token variable">$oldEmojis</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Stickers Update</h3>
<p>Called with two Collections of <code class="language-text">Sticker</code> objects when a guild's stickers have been added/updated/deleted. <code class="language-text">$oldStickers</code> <em>may</em> be empty if it was not cached or there were previously no stickers.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_STICKERS_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Collection</span> <span class="token variable">$stickers</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Collecetion</span> <span class="token variable">$oldStickers</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2>Guild Members</h2>
<p>Requires the <code class="language-text">Intents::GUILD_MEMBERS</code> intent. This intent is a priviliged intent, it must be enabled in your Discord Bot developer settings.</p>
<h3>Guild Member Add</h3>
<p>Called with a <code class="language-text">Member</code> object when a new user joins a guild.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_MEMBER_ADD</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Member</span> <span class="token variable">$member</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Member Remove</h3>
<p>Called with a <code class="language-text">Member</code> object when a member is removed from a guild (leave/kick/ban). Note that the member <em>may</em> only have <code class="language-text">User</code> data if <code class="language-text">loadAllMembers</code> is disabled.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_MEMBER_REMOVE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Member</span> <span class="token variable">$member</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Member Update</h3>
<p>Called with two <code class="language-text">Member</code> objects when a member is updated in a guild. Note that the old member <em>may</em> be <code class="language-text">null</code> if <code class="language-text">loadAllMembers</code> is disabled.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_MEMBER_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Member</span> <span class="token variable">$member</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token class-name type-declaration">Member</span> <span class="token variable">$oldMember</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2>Guild Roles</h2>
<p>Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<h3>Guild Role Create</h3>
<p>Called with a <code class="language-text">Role</code> object when a role is created in a guild.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_ROLE_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Role</span> <span class="token variable">$role</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Role Update</h3>
<p>Called with two <code class="language-text">Role</code> objects when a role is updated in a guild.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_ROLE_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Role</span> <span class="token variable">$role</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token class-name type-declaration">Role</span> <span class="token variable">$oldRole</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Role Delete</h3>
<p>Called with a <code class="language-text">Role</code> object when a role is deleted in a guild. <code class="language-text">$role</code> may return <code class="language-text">Role</code> object if it was cached.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_ROLE_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword type-hint">object</span> <span class="token variable">$role</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$role</span> <span class="token keyword">instanceof</span> <span class="token class-name">Role</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// $role was cached</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// $role was not in cache:</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// {</span>
        <span class="token comment">//     "guild_id": "" // role guild ID</span>
        <span class="token comment">//     "role_id": "", // role ID,</span>
        <span class="token comment">// }</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2>Guild Scheduled Events</h2>
<p>Requires the <code class="language-text">Intents::GUILD_SCHEDULED_EVENTS</code> intent.</p>
<h3>Guild Scheduled Event Create</h3>
<p>Called with a <code class="language-text">ScheduledEvent</code> object when a scheduled event is created in a guild.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_SCHEDULED_EVENT_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">ScheduledEvent</span> <span class="token variable">$scheduledEvent</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Scheduled Event Update</h3>
<p>Called with a <code class="language-text">ScheduledEvent</code> object when a scheduled event is updated in a guild.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_SCHEDULED_EVENT_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">ScheduledEvent</span> <span class="token variable">$scheduledEvent</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token class-name type-declaration">ScheduledEvent</span> <span class="token variable">$oldScheduledEvent</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Scheduled Event Delete</h3>
<p>Called with a <code class="language-text">ScheduledEvent</code> object when a scheduled event is deleted in a guild.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_SCHEDULED_EVENT_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">ScheduledEvent</span> <span class="token variable">$scheduledEvent</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Scheduled Event User Add</h3>
<p>Called when a user has subscribed to a scheduled event in a guild.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_SCHEDULED_EVENT_USER_ADD</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Guild Scheduled Event User Remove</h3>
<p>Called when a user has unsubscribed from a scheduled event in a guild.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_SCHEDULED_EVENT_USER_REMOVE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$data</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2>Integrations</h2>
<p>Requires the <code class="language-text">Intents::GUILD_INTEGRATIONS</code> intent.</p>
<h3>Guild Integrations Update</h3>
<p>Called with a cached <code class="language-text">Guild</code> object when a guild integration is updated.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">GUILD_INTEGRATIONS_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword type-hint">object</span> <span class="token variable">$guild</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$guild</span> <span class="token keyword">instanceof</span> <span class="token class-name">Guild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// $guild was cached</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// $guild was not in cache:</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// {</span>
        <span class="token comment">//     "guild_id": "",</span>
        <span class="token comment">// }</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Integration Create</h3>
<p>Called with an <code class="language-text">Integration</code> object when an integration is created in a guild.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">INTEGRATION_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Integration</span> <span class="token variable">$integration</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Integration Update</h3>
<p>Called with an <code class="language-text">Integration</code> object when a integration is updated in a guild.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">INTEGRATION_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Integration</span> <span class="token variable">$integration</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token class-name type-declaration">Integration</span> <span class="token variable">$oldIntegration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Integration Delete</h3>
<p>Called with an old <code class="language-text">Integration</code> object when a integration is deleted from a guild.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">INTEGRATION_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword type-hint">object</span> <span class="token variable">$integration</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$integration</span> <span class="token keyword">instanceof</span> <span class="token class-name">Integration</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// $integration was cached</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// $integration was not in cache:</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// {</span>
        <span class="token comment">//     "id": "",</span>
        <span class="token comment">//     "guild_id": "",</span>
        <span class="token comment">//     "application_id": ""</span>
        <span class="token comment">// }</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="invites">Invites</h2><div class="api-module--section--1E1xV"><p>Requires the <code class="language-text">Intents::GUILD_INVITES</code> intent and <code class="language-text">manage_channels</code> permission.</p>
<h3>Invite Create</h3>
<p>Called with an <code class="language-text">Invite</code> object when a new invite to a channel is created.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">INVITE_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Invite</span> <span class="token variable">$invite</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Invite Delete</h3>
<p>Called with an object when an invite is created.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">INVITE_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword type-hint">object</span> <span class="token variable">$invite</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$invite</span> <span class="token keyword">instanceof</span> <span class="token class-name">Invite</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// $invite was cached</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// If $invite was not in cache:</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// {</span>
        <span class="token comment">//     "channel_id": "",</span>
        <span class="token comment">//     "guild_id": "",</span>
        <span class="token comment">//     "code": "" // the unique invite code</span>
        <span class="token comment">// }</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="interactions">Interactions</h2><div class="api-module--section--1E1xV"><h3>Interaction Create</h3>
<p>Called with an <code class="language-text">Interaction</code> object when an interaction is created.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// use Discord\Parts\Interactions\Interaction;</span>

<span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">INTERACTION_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Interaction</span> <span class="token variable">$interaction</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Application Command &#x26; Message component listeners are processed before this event is called.
Useful if you want to create a customized callback or have interaction response persists after Bot restart.</p></div><h2 id="messages">Messages</h2><div class="api-module--section--1E1xV"><blockquote>
<p>Unlike persistent messages, ephemeral messages are sent directly to the user and the Bot who sent the message rather than through the guild channel. Because of this, ephemeral messages are tied to the <code class="language-text">Intents::DIRECT_MESSAGES</code>, and the message object won't include <code class="language-text">guild_id</code> or <code class="language-text">member</code>.</p>
</blockquote>
<p>Requires the <code class="language-text">Intents::GUILD_MESSAGES</code> intent for guild or <code class="language-text">Intents::DIRECT_MESSAGES</code> for direct messages.</p>
<h3>Message Create</h3>
<p>Called with a <code class="language-text">Message</code> object when a message is sent in a guild or private channel.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Update</h3>
<p>Called with two <code class="language-text">Message</code> objects when a message is updated in a guild or private channel.
The old message may be null if <code class="language-text">storeMessages</code> is not enabled <em>or</em> the message was sent before the Bot was started.
Discord does not provide a way to get message update history.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$oldMessage</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Delete</h3>
<p>Called with an old <code class="language-text">Message</code> object <em>or</em> the raw payload when a message is deleted.
The <code class="language-text">Message</code> object may be the raw payload if <code class="language-text">storeMessages</code> is not enabled <em>or</em> the message was sent before the Bot was started.
Discord does not provide a way to get deleted messages.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword type-hint">object</span> <span class="token variable">$message</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$message</span> <span class="token keyword">instanceof</span> <span class="token class-name">Message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// $message was cached</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// $message was not in cache:</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// {</span>
        <span class="token comment">//     "id": "", // deleted message ID,</span>
        <span class="token comment">//     "channel_id": "", // message channel ID,</span>
        <span class="token comment">//     "guild_id": "" // channel guild ID</span>
        <span class="token comment">// }</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Delete Bulk</h3>
<p>Called with a <code class="language-text">Collection</code> of old <code class="language-text">Message</code> objects <em>or</em> the raw payload when bulk messages are deleted.
The <code class="language-text">Message</code> object may be the raw payload if <code class="language-text">storeMessages</code> is not enabled <em>or</em> the message was sent before the Bot was started.
Discord does not provide a way to get deleted messages.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_DELETE_BULK</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Collection</span> <span class="token variable">$messages</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$messages</span> <span class="token keyword">as</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$message</span> <span class="token keyword">instanceof</span> <span class="token class-name">Message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// $message was cached</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// $message was not in cache:</span>
        <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token comment">// {</span>
            <span class="token comment">//     "id": "", // deleted message ID,</span>
            <span class="token comment">//     "channel_id": "", // message channel ID,</span>
            <span class="token comment">//     "guild_id": "" // channel guild ID</span>
            <span class="token comment">// }</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2>Message Reactions</h2>
<p>Requires the <code class="language-text">Intents::GUILD_MESSAGE_REACTIONS</code> intent for guild or <code class="language-text">Intents::DIRECT_MESSAGE_REACTIONS</code> for direct messages.</p>
<h3>Message Reaction Add</h3>
<p>Called with a <code class="language-text">MessageReaction</code> object when a user added a reaction to a message.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_REACTION_ADD</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">MessageReaction</span> <span class="token variable">$reaction</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Reaction Remove</h3>
<p>Called with a <code class="language-text">MessageReaction</code> object when a user removes a reaction from a message.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_REACTION_REMOVE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">MessageReaction</span> <span class="token variable">$reaction</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Reaction Remove All</h3>
<p>Called with a <code class="language-text">MessageReaction</code> object when all reactions are removed from a message.
Note that only the fields relating to the message, channel and guild will be filled.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_REACTION_REMOVE_ALL</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">MessageReaction</span> <span class="token variable">$reaction</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Message Reaction Remove Emoji</h3>
<p>Called with an object when all reactions of an emoji are removed from a message.
Unlike Message Reaction Remove, this event contains no users or members.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_REACTION_REMOVE_EMOJI</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">MessageReaction</span> <span class="token variable">$reaction</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="presences">Presences</h2><div class="api-module--section--1E1xV"><h3>Presence Update</h3>
<p>Called with a <code class="language-text">PresenceUpdate</code> object when a member's presence is updated.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">PRESENCE_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">PresenceUpdate</span> <span class="token variable">$presence</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Requires the <code class="language-text">Intents::GUILD_PRESENCES</code> intent. This intent is a priviliged intent, it must be enabled in your Discord Bot developer settings.</p>
<h3>Typing Start</h3>
<p>Called with a <code class="language-text">TypingStart</code> object when a user starts typing in a channel.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// use Discord\Parts\WebSockets\TypingStart;</span>

<span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">TYPING_START</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">TypingStart</span> <span class="token variable">$typing</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Requires the <code class="language-text">Intents::GUILD_MESSAGE_TYPING</code> intent.</p>
<h3>User Update</h3>
<p>Called with a <code class="language-text">User</code> object when the Bot's user properties change.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">USER_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">User</span> <span class="token variable">$user</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token class-name type-declaration">User</span> <span class="token variable">$oldUser</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="stage-instances">Stage Instances</h2><div class="api-module--section--1E1xV"><p>Requires the <code class="language-text">Intents::GUILDS</code> intent.</p>
<h3>Stage Instance Create</h3>
<p>Called with a <code class="language-text">StageInstance</code> object when a stage instance is created (i.e. the Stage is now "live").</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">STAGE_INSTANCE_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">StageInstance</span> <span class="token variable">$stageInstance</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Stage Instance Update</h3>
<p>Called with a <code class="language-text">StageInstance</code> objects when a stage instance has been updated.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">STAGE_INSTANCE_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">StageInstance</span> <span class="token variable">$stageInstance</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token class-name type-declaration">StageInstance</span> <span class="token variable">$oldStageInstance</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Stage Instance Delete</h3>
<p>Called with a <code class="language-text">StageInstance</code> object when a stage instance has been deleted (i.e. the Stage has been closed).</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">STAGE_INSTANCE_DELETE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">StageInstance</span> <span class="token variable">$stageInstance</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="voices">Voices</h2><div class="api-module--section--1E1xV"><h3>Voice State Update</h3>
<p>Called with a <code class="language-text">VoiceStateUpdate</code> object when a member joins, leaves or moves between voice channels.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// use Discord\Parts\WebSockets\VoiceStateUpdate;</span>

<span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">VOICE_STATE_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">VoiceStateUpdate</span> <span class="token variable">$state</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token variable">$oldstate</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Requires the <code class="language-text">Intents::GUILD_VOICE_STATES</code> intent.</p>
<h3>Voice Server Update</h3>
<p>Called with a <code class="language-text">VoiceServerUpdate</code> object when a voice server is updated in a guild.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// use Discord\Parts\WebSockets\VoiceServerUpdate;</span>

<span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">VOICE_SERVER_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">VoiceServerUpdate</span> <span class="token variable">$guild</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="webhooks">Webhooks</h2><div class="api-module--section--1E1xV"><h3>Webhooks Update</h3>
<p>Called with a <code class="language-text">Guild</code> and <code class="language-text">Channel</code> object when a guild channel's webhooks are is created, updated, or deleted.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">WEBHOOKS_UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token keyword type-hint">object</span> <span class="token variable">$guild</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Discord</span> <span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token keyword type-hint">object</span> <span class="token variable">$channel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token variable">$guild</span> <span class="token keyword">instanceof</span> <span class="token class-name">Guild</span> <span class="token operator">&amp;&amp;</span> <span class="token variable">$channel</span> <span class="token keyword">instanceof</span> <span class="token class-name">Channel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// $guild and $channel was cached</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// $guild and/or $channel was not in cache:</span>
    <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// {</span>
        <span class="token comment">//     "guild_id": "" // webhook guild ID</span>
        <span class="token comment">//     "channel_id": "", // webhook channel ID,</span>
        <span class="token comment">// }</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Requires the <code class="language-text">Intents::GUILD_WEBHOOKS</code> intent.</p></div><h2 id="repositories">Repositories</h2><div class="api-module--section--1E1xV"><p>Repositories are containers for parts. They provide the functions to get, save and delete parts from the Discord servers. Different parts have many repositories.</p>
<p>An example is the <code class="language-text">Channel</code> part. It has 4 repositories: <code class="language-text">members</code>, <code class="language-text">messages</code>, <code class="language-text">overwrites</code> and <code class="language-text">webhooks</code>. Each of these repositories contain parts that relate to the <code class="language-text">Channel</code> part, such as messages sent in the channel (<code class="language-text">messages</code> repository), or if it is a voice channel the members currently in the channel (<code class="language-text">members</code> repository).</p>
<p>A full list of repositories is provided below in the parts section, per part.</p>
<p>Repositories extend the <a href="#collection">Collection</a> class. See the documentation on collections for extra methods.</p>
<p>Examples provided below are based on the <code class="language-text">guilds</code> repository in the Discord client.</p>
<h3>Methods</h3>
<p>All repositories extend the <code class="language-text">AbstractRepository</code> class, and share a set of core methods.</p>
<h4>Freshening the repository data</h4>
<p>Clears the repository and fills it with new data from Discord. It takes no parameters and returns the repository in a promise.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token property">guilds</span><span class="token operator">-></span><span class="token function">freshen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">GuildRepository</span> <span class="token variable">$guilds</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Creating a part</h4>
<p>Creates a repository part from an array of attributes and returns the part. Does not create the part in Discord servers, you must use the <code class="language-text">->save()</code> function later.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>attributes</td>
<td>array</td>
<td>Array of attributes to fill in the part. Optional</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$guild</span> <span class="token operator">=</span> <span class="token variable">$discord</span><span class="token operator">-></span><span class="token property">guilds</span><span class="token operator">-></span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'My new guild name'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// to save</span>
<span class="token variable">$discord</span><span class="token operator">-></span><span class="token property">guilds</span><span class="token operator">-></span><span class="token function">save</span><span class="token punctuation">(</span><span class="token variable">$guild</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Saving a part</h4>
<p>Creates or updates a repository part in the Discord servers. Takes a part and returns the same part in a promise.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>part</td>
<td>Part</td>
<td>The part to create or update</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token property">guilds</span><span class="token operator">-></span><span class="token function">save</span><span class="token punctuation">(</span><span class="token variable">$guild</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Guild</span> <span class="token variable">$guild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Deleting a part</h4>
<p>Deletes a repository part from the Discord servers. Takes a part and returns the old part in a promise.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>part</td>
<td>Part</td>
<td>The part to delete</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token property">guilds</span><span class="token operator">-></span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token variable">$guild</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Guild</span> <span class="token variable">$guild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Fetch a part</h4>
<p>Fetches/freshens a part from the repository. If the part is present in the cache, it returns the cached version, otherwise it retrieves the part from Discord servers. Takes a part ID and returns the part in a promise.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>Part ID</td>
</tr>
<tr>
<td>fresh</td>
<td>bool</td>
<td>Forces the method to skip checking the cache. Default is false</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token property">guilds</span><span class="token operator">-></span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'guild_id'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Guild</span> <span class="token variable">$guild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or, if you don't want to check the cache</span>
<span class="token variable">$discord</span><span class="token operator">-></span><span class="token property">guilds</span><span class="token operator">-></span><span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'guild_id'</span><span class="token punctuation">,</span> <span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Guild</span> <span class="token variable">$guild</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="parts">Parts</h2><div class="api-module--section--1E1xV"><p>Parts is the term used for the data structures inside Discord.
All parts share a common set of attributes and methods.</p>
<p>Parts have a set list of fillable fields. If you attempt to set a field that is not accessible, it will not warn you.</p>
<p>To create a part object, you can use the <code class="language-text">new</code> syntax or the <code class="language-text">factory</code> method. For example, creating a <code class="language-text">Message</code> part:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Message</span><span class="token punctuation">(</span><span class="token variable">$discord</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token variable">$message</span> <span class="token operator">=</span> <span class="token variable">$discord</span><span class="token operator">-></span><span class="token property">factory</span><span class="token operator">-></span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name static-context">Message</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<br>
<p>Part attributes can be accessed similar to an object or like an array:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token property">content</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'hello!'</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token variable">$message</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'content'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'hello!'</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token variable">$message</span><span class="token operator">-></span><span class="token property">content</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token keyword">echo</span> <span class="token variable">$message</span><span class="token punctuation">[</span><span class="token string single-quoted-string">'content'</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div>
<h3>Filling a part with data</h3>
<p>The <code class="language-text">->fill(array $attributes)</code> function takes an array of attributes to fill the part. If a field is found that is not 'fillable', it is skipped.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'content'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'hello!'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Getting the raw attributes of a part</h3>
<p>The <code class="language-text">->getRawAttributes()</code> function returns the array representation of the part.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$attributes</span> <span class="token operator">=</span> <span class="token variable">$message</span><span class="token operator">-></span><span class="token function">getRawAttributes</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * [
 *     "id" => "",
 *     "content" => "",
 *     // ...
 * ]
 */</span></code></pre></div></div><h2 id="guild">Guild</h2><div class="api-module--section--1E1xV"><p>Guilds represent Discord 'servers'.</p>
<h3>Repositories</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>roles</td>
<td><a href="#role">Role</a></td>
<td></td>
</tr>
<tr>
<td>emojis</td>
<td><a href="#emoji">Emoji</a></td>
<td></td>
</tr>
<tr>
<td>members</td>
<td><a href="#member">Member</a></td>
<td>May not contain offline members, see the <a href="#basics"><code class="language-text">loadAllMembers</code> option</a></td>
</tr>
<tr>
<td>channels</td>
<td><a href="#channel">Channel</a></td>
<td></td>
</tr>
<tr>
<td>stage_instances</td>
<td><a href="#stage_instance">StageInstance</a></td>
<td></td>
</tr>
<tr>
<td>guild<em>scheduled</em>events</td>
<td><a href="#scheduled_event">ScheduledEvent</a></td>
<td></td>
</tr>
<tr>
<td>stickers</td>
<td><a href="#sticker">Sticker</a></td>
<td></td>
</tr>
<tr>
<td>invites</td>
<td><a href="#invite">Invite</a></td>
<td>Not initially loaded</td>
</tr>
<tr>
<td>bans</td>
<td><a href="#ban">Ban</a></td>
<td>Not initially loaded without <a href="#basics"><code class="language-text">retrieveBans</code> option</a></td>
</tr>
<tr>
<td>commands</td>
<td><a href="#command">Command</a></td>
<td>Not initially loaded</td>
</tr>
<tr>
<td>templates</td>
<td><a href="#guild_template">GuildTemplate</a></td>
<td>Not initially loaded</td>
</tr>
<tr>
<td>integrations</td>
<td><a href="#integration">Integration</a></td>
<td>Not initially loaded</td>
</tr>
</tbody>
</table>
<h3>Creating a role</h3>
<p>Shortcut for <code class="language-text">$guild->roles->save($role);</code>. Takes an array of parameters for a role and returns a role part in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Role name</td>
<td>new role</td>
</tr>
<tr>
<td>permissions</td>
<td>string</td>
<td>Bitwise value of permissions</td>
<td>@everyone permissions</td>
</tr>
<tr>
<td>color</td>
<td>integer</td>
<td>RGB color value</td>
<td>0</td>
</tr>
<tr>
<td>hoist</td>
<td>bool</td>
<td>Hoisted role?</td>
<td>false</td>
</tr>
<tr>
<td>icon</td>
<td>string</td>
<td>image data for Role icon</td>
<td>null</td>
</tr>
<tr>
<td>unicode_emoji</td>
<td>string</td>
<td>unicode emoji for Role icon</td>
<td>null</td>
</tr>
<tr>
<td>mentionable</td>
<td>bool</td>
<td>Mentionable role?</td>
<td>false</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$guild</span><span class="token operator">-></span><span class="token function">createRole</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'New Role'</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Role</span> <span class="token variable">$role</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Transferring ownership of guild</h3>
<p>Transfers the ownership of the guild to another member. The bot must own the guild to be able to transfer ownership. Takes a member object or a member ID and returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>member</td>
<td>Member or member ID</td>
<td>The member to get ownership</td>
</tr>
<tr>
<td>reason</td>
<td>string</td>
<td>Reason for Audit Log</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$guild</span><span class="token operator">-></span><span class="token function">transferOwnership</span><span class="token punctuation">(</span><span class="token variable">$member</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token variable">$guild</span><span class="token operator">-></span><span class="token function">transferOwnership</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'member_id'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Unbanning a member with a User or user ID</h3>
<p>Unbans a member when passed a <code class="language-text">User</code> object or a user ID. If you have the ban object, you can do <code class="language-text">$guild->bans->delete($ban);</code>. Returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>user_id</td>
<td><code class="language-text">User</code> or user ID</td>
<td>The user to unban</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$guild</span><span class="token operator">-></span><span class="token function">unban</span><span class="token punctuation">(</span><span class="token variable">$user</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// or</span>
<span class="token variable">$guild</span><span class="token operator">-></span><span class="token function">unban</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'user_id'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Querying the Guild audit log</h3>
<p>Takes an array of parameters to query the audit log for the guild. Returns an Audit Log object inside a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>user_id</td>
<td>string, int, <code class="language-text">Member</code>, <code class="language-text">User</code></td>
<td>Filters audit log by who performed the action</td>
</tr>
<tr>
<td>action_type</td>
<td><code class="language-text">Entry</code> constants</td>
<td>Filters audit log by the type of action</td>
</tr>
<tr>
<td>before</td>
<td>string, int, <code class="language-text">Entry</code></td>
<td>Retrieves audit logs before the given audit log object</td>
</tr>
<tr>
<td>limit</td>
<td>int between 1 and 100</td>
<td>Limits the amount of audit log entries to return</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$guild</span><span class="token operator">-></span><span class="token function">getAuditLog</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'user_id'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'123456'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'action_type'</span> <span class="token operator">=></span> <span class="token class-name static-context">Entry</span><span class="token operator">::</span><span class="token constant">CHANNEL_CREATE</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'before'</span> <span class="token operator">=></span> <span class="token variable">$anotherEntry</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'limit'</span> <span class="token operator">=></span> <span class="token number">12</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">AuditLog</span> <span class="token variable">$auditLog</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$auditLog</span><span class="token operator">-></span><span class="token property">audit_log_entries</span> <span class="token keyword">as</span> <span class="token variable">$entry</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// $entry->...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Creating an Emoji</h3>
<p>Takes an array of parameters for an emoji and returns an emoji part in a promise.
Use the second parameter to specify local file path instead.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>name</td>
<td>string</td>
<td>Emoji name</td>
<td><em>required</em></td>
</tr>
<tr>
<td>image</td>
<td>string</td>
<td>image data with base64 format, ignored if file path is specified</td>
<td></td>
</tr>
<tr>
<td>roles</td>
<td>array</td>
<td>Role IDs that are allowed to use the emoji</td>
<td>[]</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$guild</span><span class="token operator">-></span><span class="token function">createEmoji</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'name'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'elephpant'</span><span class="token punctuation">,</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token string single-quoted-string">'/path/to/file.jpg'</span><span class="token punctuation">,</span>
<span class="token string single-quoted-string">'audit-log reason'</span>
<span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Emoji</span> <span class="token variable">$emoji</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="channel">Channel</h2><div class="api-module--section--1E1xV"><p>Channels represent a Discord channel, whether it be a direct message channel, group channel, voice channel, text channel etc.</p>
<h3>Properties</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>id of the channel</td>
</tr>
<tr>
<td>name</td>
<td>string</td>
<td>name of the channel</td>
</tr>
<tr>
<td>type</td>
<td>int</td>
<td>type of the channel, see Channel constants</td>
</tr>
<tr>
<td>topic</td>
<td>string</td>
<td>topic of the channel</td>
</tr>
<tr>
<td>guild_id</td>
<td>string or null</td>
<td>id of the guild the channel belongs to, null if direct message</td>
</tr>
<tr>
<td>guild</td>
<td>Guild or null</td>
<td>guild the channel belongs to, null if direct message</td>
</tr>
<tr>
<td>position</td>
<td>int</td>
<td>position of the channel in the Discord client</td>
</tr>
<tr>
<td>is_private</td>
<td>bool</td>
<td>whether the message is a private direct message channel</td>
</tr>
<tr>
<td>last<em>message</em>id</td>
<td>string</td>
<td>id of the last message sent in the channel</td>
</tr>
<tr>
<td>bitrate</td>
<td>int</td>
<td>bitrate of the voice channel</td>
</tr>
<tr>
<td>recipient</td>
<td><a href="#user">User</a></td>
<td>recipient of the direct message, only for direct message channel</td>
</tr>
<tr>
<td>recipients</td>
<td>Collection of <a href="#user">Users</a></td>
<td>recipients of the group direct message, only for group dm channels</td>
</tr>
<tr>
<td>nsfw</td>
<td>bool</td>
<td>whether the channel is set as NSFW</td>
</tr>
<tr>
<td>user_limit</td>
<td>int</td>
<td>user limit of the channel for voice channels</td>
</tr>
<tr>
<td>rate<em>limit</em>per_user</td>
<td>int</td>
<td>amount of time in seconds a user has to wait between messages</td>
</tr>
<tr>
<td>icon</td>
<td>string</td>
<td>channel icon hash</td>
</tr>
<tr>
<td>owner_id</td>
<td>string</td>
<td>owner of the group DM</td>
</tr>
<tr>
<td>application_id</td>
<td>string</td>
<td>id of the group dm creator if it was via an oauth application</td>
</tr>
<tr>
<td>parent_id</td>
<td>string</td>
<td>id of the parent of the channel if it is in a group</td>
</tr>
<tr>
<td>last<em>pin</em>timestamp</td>
<td><code class="language-text">Carbon</code> timestamp</td>
<td>when the last message was pinned in the channel</td>
</tr>
<tr>
<td>rtc_region</td>
<td>string</td>
<td>Voice region id for the voice channel, automatic when set to null.</td>
</tr>
<tr>
<td>video<em>quality</em>mode</td>
<td>int</td>
<td>The camera video quality mode of the voice channel, 1 when not present.</td>
</tr>
<tr>
<td>default<em>auto</em>archive_duration</td>
<td>int</td>
<td>Default duration for newly created threads, in minutes, to automatically archive the thread after recent activity, can be set to: 60, 1440, 4320, 10080.</td>
</tr>
</tbody>
</table>
<h3>Repositories</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>overwrites</td>
<td><a href="#overwrite">Overwrite</a></td>
<td>Contains permission overwrites</td>
</tr>
<tr>
<td>members</td>
<td>VoiceStateUpdate</td>
<td>Only for voice channels. Contains voice members</td>
</tr>
<tr>
<td>messages</td>
<td><a href="#message">Message</a></td>
<td></td>
</tr>
<tr>
<td>webhooks</td>
<td><a href="#webhook">Webhook</a></td>
<td>Only available in text channels</td>
</tr>
<tr>
<td>threads</td>
<td><a href="#thread">Thread</a></td>
<td>Only available in text channels</td>
</tr>
<tr>
<td>invites</td>
<td><a href="#invite">Invite</a></td>
<td></td>
</tr>
</tbody>
</table>
<h3>Set permissions of a member or role</h3>
<p>Sets the permissions of a member or role. Takes two arrays of permissions - one for allow and one for deny. See <a href="#permissions">Channel Permissions</a> for a valid list of permissions. Returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>part</td>
<td><a href="#member">Member</a> or <a href="#role">Role</a></td>
<td>The part to apply the permissions to</td>
<td>required</td>
</tr>
<tr>
<td>allow</td>
<td>array</td>
<td>Array of permissions to allow the part</td>
<td>[]</td>
</tr>
<tr>
<td>deny</td>
<td>array</td>
<td>Array of permissions to deny the part</td>
<td>[]</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// Member can send messages and attach files,</span>
<span class="token comment">// but can't add reactions to message.</span>
<span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">setPermissions</span><span class="token punctuation">(</span><span class="token variable">$member</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'send_messages'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'attach_files'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'add_reactions'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Set permissions of a member or role with an Overwrite</h3>
<p>Sets the permissions of a member or role, but takes an <code class="language-text">Overwrite</code> part instead of two arrays. Returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>part</td>
<td><a href="#member">Member</a> or <a href="#role">Role</a></td>
<td>The part to apply the permissions to</td>
<td>required</td>
</tr>
<tr>
<td>overwrite</td>
<td><code class="language-text">Overwrite</code> part</td>
<td>The overwrite to apply</td>
<td>required</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$allow</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChannelPermission</span><span class="token punctuation">(</span><span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'send_messages'</span> <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'attach_files'</span> <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$deny</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChannelPermission</span><span class="token punctuation">(</span><span class="token variable">$discord</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'add_reactions'</span> <span class="token operator">=></span> <span class="token constant boolean">true</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$overwrite</span> <span class="token operator">=</span> <span class="token variable">$channel</span><span class="token operator">-></span><span class="token property">overwrites</span><span class="token operator">-></span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'allow'</span> <span class="token operator">=></span> <span class="token variable">$allow</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'deny'</span> <span class="token operator">=></span> <span class="token variable">$deny</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Member can send messages and attach files,</span>
<span class="token comment">// but can't add reactions to message.</span>
<span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">setOverwrite</span><span class="token punctuation">(</span><span class="token variable">$member</span><span class="token punctuation">,</span> <span class="token variable">$overwrite</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Move member to voice channel</h3>
<p>Moves a member to a voice channel if the member is already in one. Takes a <a href="#member">Member</a> object or member ID and returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>member</td>
<td><a href="#member">Member</a> or string</td>
<td>The member to move</td>
<td>required</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">moveMember</span><span class="token punctuation">(</span><span class="token variable">$member</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>

<span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">moveMember</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'123213123123213'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Muting and unmuting member in voice channel</h3>
<p>Mutes or unmutes a member in the voice channel. Takes a <a href="#member">Member</a> object or member ID and returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>member</td>
<td><a href="#member">Member</a> or string</td>
<td>The member to mute/unmute</td>
<td>required</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// muting a member with a member object</span>
<span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">muteMember</span><span class="token punctuation">(</span><span class="token variable">$member</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// unmuting a member with a member ID</span>
<span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">unmuteMember</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'123213123123213'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Creating an invite</h3>
<p>Creates an invite for a channel. Takes an array of options and returns the new invite in a promise.</p>
<h4>Parameters</h4>
<p>Parameters are in an array.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>max_age</td>
<td>int</td>
<td>Maximum age of the invite in seconds</td>
<td>24 hours</td>
</tr>
<tr>
<td>max_uses</td>
<td>int</td>
<td>Maximum uses of the invite</td>
<td>unlimited</td>
</tr>
<tr>
<td>temporary</td>
<td>bool</td>
<td>Whether the invite grants temporary membership</td>
<td>false</td>
</tr>
<tr>
<td>unique</td>
<td>bool</td>
<td>Whether the invite should be unique</td>
<td>false</td>
</tr>
<tr>
<td>target_type</td>
<td>int</td>
<td>The type of target for this voice channel invite</td>
<td></td>
</tr>
<tr>
<td>target<em>user</em>id</td>
<td>string</td>
<td>The id of the user whose stream to display for this invite, required if target<em>type is `Invite::TARGET</em>TYPE_STREAM`, the user must be streaming in the channel</td>
<td></td>
</tr>
<tr>
<td>target<em>application</em>id</td>
<td>string</td>
<td>The id of the embedded application to open for this invite, required if target<em>type is `Invite::TARGET</em>TYPE<em>EMBEDDED</em>APPLICATION`, the application must have the EMBEDDED flag</td>
<td></td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">createInvite</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'max_age'</span> <span class="token operator">=></span> <span class="token number">60</span><span class="token punctuation">,</span> <span class="token comment">// 1 minute</span>
    <span class="token string single-quoted-string">'max_uses'</span> <span class="token operator">=></span> <span class="token number">5</span><span class="token punctuation">,</span> <span class="token comment">// 5 uses</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Invite</span> <span class="token variable">$invite</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Bulk deleting messages</h3>
<p>Deletes many messages at once. Takes an array of messages and/or message IDs and returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>messages</td>
<td>array or collection of messages and/or message IDs</td>
<td>The messages to delete</td>
<td>default</td>
</tr>
<tr>
<td>reason</td>
<td>string</td>
<td>Reason for Audit Log</td>
<td></td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">deleteMessages</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token variable">$message1</span><span class="token punctuation">,</span>
    <span class="token variable">$message2</span><span class="token punctuation">,</span>
    <span class="token variable">$message3</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'my_message4_id'</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'my_message5_id'</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Getting message history</h3>
<p>Retrieves message history with an array of options. Returns a collection of messages in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>before</td>
<td><a href="#message">Message</a> or message ID</td>
<td>Get messages before this message</td>
<td></td>
</tr>
<tr>
<td>after</td>
<td><a href="#message">Message</a> or message ID</td>
<td>Get messages after this message</td>
<td></td>
</tr>
<tr>
<td>around</td>
<td><a href="#message">Message</a> or message ID</td>
<td>Get messages around this message</td>
<td></td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>Number of messages to get, between 1 and 100</td>
<td>100</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">getMessageHistory</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'limit'</span> <span class="token operator">=></span> <span class="token number">5</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Collection</span> <span class="token variable">$messages</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$messages</span> <span class="token keyword">as</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Limit delete messages</h3>
<p>Deletes a number of messages, in order from the last one sent. Takes an integer of messages to delete and returns an empty promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>value</td>
<td>int</td>
<td>number of messages to delete, in the range 1-100</td>
<td>required</td>
</tr>
<tr>
<td>reason</td>
<td>string</td>
<td>Reason for Audit Log</td>
<td></td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// deletes the last 15 messages</span>
<span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">limitDelete</span><span class="token punctuation">(</span><span class="token number">15</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Pin or unpin  a message</h3>
<p>Pins or unpins a message from the channel pinboard. Takes a message object and returns the same message in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>message</td>
<td><a href="#message">Message</a></td>
<td>The message to pin/unpin</td>
<td>required</td>
</tr>
<tr>
<td>reason</td>
<td>string</td>
<td>Reason for Audit Log</td>
<td></td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// to pin</span>
<span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">pinMessage</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// to unpin</span>
<span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">unpinMessage</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Get invites</h3>
<p>Gets the channels invites. Returns a collection of invites in a promise.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">getInvites</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Collection</span> <span class="token variable">$invites</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$invites</span> <span class="token keyword">as</span> <span class="token variable">$invite</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Send a message</h3>
<p>Sends a message to the channel. Takes a message builder. Returns the message in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>message</td>
<td>MessageBuilder</td>
<td>Message content</td>
<td>required</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span> <span class="token operator">=</span> <span class="token class-name static-context">MessageBuilder</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">-></span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hello, world!'</span><span class="token punctuation">)</span>
    <span class="token operator">-></span><span class="token function">addEmbed</span><span class="token punctuation">(</span><span class="token variable">$embed</span><span class="token punctuation">)</span>
    <span class="token operator">-></span><span class="token function">setTts</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Send an embed</h3>
<p>Sends an embed to the channel. Takes an embed and returns the sent message in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>embed</td>
<td><a href="#embed">Embed</a></td>
<td>The embed to send</td>
<td>required</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">sendEmbed</span><span class="token punctuation">(</span><span class="token variable">$embed</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Broadcast typing</h3>
<p>Broadcasts to the channel that the bot is typing. Genreally, bots should <em>not</em> use this route, but if a bot takes a while to process a request it could be useful. Returns nothing in a promise.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">broadcastTyping</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Create a message collector</h3>
<p>Creates a message collector, which calls a filter function on each message received and inserts it into a collection if the function returns <code class="language-text">true</code>. The collector is resolved after a specified time or limit, whichever is given or whichever happens first. Takes a callback, an array of options and returns a collection of messages in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
<th>default</th>
</tr>
</thead>
<tbody>
<tr>
<td>filter</td>
<td>callable</td>
<td>The callback to call on every message</td>
<td>required</td>
</tr>
<tr>
<td>options</td>
<td>array</td>
<td>Array of options</td>
<td>[]</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// Collects 5 messages containing hello</span>
<span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">createMessageCollector</span><span class="token punctuation">(</span><span class="token keyword">fn</span> <span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">strpos</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token operator">-></span><span class="token property">content</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'hello'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token string single-quoted-string">'limit'</span> <span class="token operator">=></span> <span class="token number">5</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Collection</span> <span class="token variable">$messages</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$messages</span> <span class="token keyword">as</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Options</h4>
<p>One of <code class="language-text">time</code> or <code class="language-text">limit</code> is required, or the collector will not resolve.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>int</td>
<td>The time after which the collector will resolve, in milliseconds</td>
</tr>
<tr>
<td>limit</td>
<td>int</td>
<td>The number of messages to be collected</td>
</tr>
</tbody>
</table>
<h3>Get pinned messages</h3>
<p>Returns the messages pinned in the channel. Only applicable for text channels. Returns a collection of messages in a promise.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">getPinnedMessages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Collection</span> <span class="token variable">$messages</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$messages</span> <span class="token keyword">as</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// $message->...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="member">Member</h2><div class="api-module--section--1E1xV"><p>Members represent a user in a guild. There is a member object for every guild-user relationship, meaning that there will be multiple member objects in the Discord client with the same user ID, but they will belong to different guilds.</p>
<p>A member object can also be serialised into a mention string. For example:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Hello &lt;@member_id>!</span>
    <span class="token comment">// Note: `$message->member` will be `null` if the message originated from</span>
    <span class="token comment">// a private message, or if the member object was not cached.</span>
    <span class="token variable">$message</span><span class="token operator">-></span><span class="token property">channel</span><span class="token operator">-></span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hello '</span><span class="token operator">.</span><span class="token variable">$message</span><span class="token operator">-></span><span class="token property">member</span><span class="token operator">.</span><span class="token string single-quoted-string">'!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Properties</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>user</td>
<td><a href="#user">User</a></td>
<td>the user part of the member</td>
</tr>
<tr>
<td>nick</td>
<td>string</td>
<td>the nickname of the member</td>
</tr>
<tr>
<td>avatar</td>
<td>?string</td>
<td>The guild avatar URL of the member</td>
</tr>
<tr>
<td>avatar_hash</td>
<td>?string</td>
<td>The guild avatar hash of the member</td>
</tr>
<tr>
<td>roles</td>
<td>Collection of <a href="#role">Roles</a></td>
<td>roles the member is a part of</td>
</tr>
<tr>
<td>joined_at</td>
<td><code class="language-text">Carbon</code> timestamp</td>
<td>when the member joined the guild</td>
</tr>
<tr>
<td>deaf</td>
<td>bool</td>
<td>whether the member is deafened</td>
</tr>
<tr>
<td>mute</td>
<td>bool</td>
<td>whether the member is muted</td>
</tr>
<tr>
<td>pending</td>
<td>?string</td>
<td>whether the user has not yet passed the guild's Membership Screening requirements</td>
</tr>
<tr>
<td>communication<em>disabled</em>until</td>
<td><code class="language-text">?Carbon</code></td>
<td>when the user's timeout will expire and the user will be able to communicate in the guild again, null or a time in the past if the user is not timed out</td>
</tr>
<tr>
<td>id</td>
<td>string</td>
<td>the user ID of the member</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>the username of the member</td>
</tr>
<tr>
<td>discriminator</td>
<td>string</td>
<td>the four digit discriminator of the member</td>
</tr>
<tr>
<td>displayname</td>
<td>string</td>
<td>nick/username#discriminator</td>
</tr>
<tr>
<td>guild</td>
<td><a href="#guild">Guild</a></td>
<td>the guild the member is a part of</td>
</tr>
<tr>
<td>guild_id</td>
<td>string</td>
<td>the id of the guild the member is a part of</td>
</tr>
<tr>
<td>string</td>
<td>status</td>
<td>the status of the member</td>
</tr>
<tr>
<td>game</td>
<td><a href="#activity">Activity</a></td>
<td>the current activity of the member</td>
</tr>
<tr>
<td>premium_since</td>
<td><code class="language-text">Carbon</code> timestamp</td>
<td>when the member started boosting the guild</td>
</tr>
<tr>
<td>activities</td>
<td>Collection of <a href="#activity">Activities</a></td>
<td>the current activities of the member</td>
</tr>
</tbody>
</table>
<h3>Ban the member</h3>
<p>Bans the member from the guild. Returns a <a href="#ban">Ban</a> part in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>daysToDelete</td>
<td>int</td>
<td>number of days back to delete messages, default none</td>
</tr>
<tr>
<td>reason</td>
<td>string</td>
<td>reason for the ban</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$member</span><span class="token operator">-></span><span class="token function">ban</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'bad person'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Ban</span> <span class="token variable">$ban</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Set the nickname of the member</h3>
<p>Sets the nickname of the member. Requires the <code class="language-text">MANAGE_NICKNAMES</code> permission or <code class="language-text">CHANGE_NICKNAME</code> if changing self nickname. Returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>nick</td>
<td>string</td>
<td>nickname of the member, null to clear, default null</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$member</span><span class="token operator">-></span><span class="token function">setNickname</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'newnick'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Move member to channel</h3>
<p>Moves the member to another voice channel. Member must already be in a voice channel. Takes a channel or channel ID and returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>channel</td>
<td><a href="#channel">Channel</a> or string</td>
<td>the channel to move the member to</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$member</span><span class="token operator">-></span><span class="token function">moveMember</span><span class="token punctuation">(</span><span class="token variable">$channel</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>

<span class="token variable">$member</span><span class="token operator">-></span><span class="token function">moveMember</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'123451231231'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Add member to role</h3>
<p>Adds the member to a role. Takes a role or role ID and returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>role</td>
<td><a href="#role">Role</a> or string</td>
<td>the role to add the member to</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$member</span><span class="token operator">-></span><span class="token function">addRole</span><span class="token punctuation">(</span><span class="token variable">$role</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>

<span class="token variable">$member</span><span class="token operator">-></span><span class="token function">addRole</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'1231231231'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Remove member from role</h3>
<p>Removes the member from a role. Takes a role or role ID and returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>role</td>
<td><a href="#role">Role</a> or string</td>
<td>the role to remove the member from</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$member</span><span class="token operator">-></span><span class="token function">removeRole</span><span class="token punctuation">(</span><span class="token variable">$role</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>

<span class="token variable">$member</span><span class="token operator">-></span><span class="token function">removeRole</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'1231231231'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Timeout member</h3>
<p>Times out the member in the server. Takes a carbon or null to remove. Returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>communication<em>disabled</em>until</td>
<td><code class="language-text">Carbon</code> or <code class="language-text">null</code></td>
<td>the time for timeout to lasts on</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$member</span><span class="token operator">-></span><span class="token function">timeoutMember</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Carbon</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'6 hours'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// to remove</span>
<span class="token variable">$member</span><span class="token operator">-></span><span class="token function">timeoutMember</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Get permissions of member</h3>
<p>Gets the effective permissions of the member:</p>
<ul>
<li>When given a channel, returns the effective permissions of a member in a channel.</li>
<li>Otherwise, returns the effective permissions of a member in a guild.</li>
</ul>
<p>Returns a <a href="#permissions">role permission</a> in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>channel</td>
<td><a href="#channel">Channel</a> or null</td>
<td>the channel to get the effective permissions for</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$member</span><span class="token operator">-></span><span class="token function">getPermissions</span><span class="token punctuation">(</span><span class="token variable">$channel</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">RolePermission</span> <span class="token variable">$permission</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>

<span class="token variable">$member</span><span class="token operator">-></span><span class="token function">getPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">RolePermission</span> <span class="token variable">$permission</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Get guild specific avatar URL</h3>
<p>Gets the server-specific avatar URL for the member. Only call this function if you need to change the format or size of the image, otherwise use <code class="language-text">$member->avatar</code>. Returns a string.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>format</td>
<td>string</td>
<td>format of the image, one of png, jpg or webp, default webp and gif if animated</td>
</tr>
<tr>
<td>size</td>
<td>int</td>
<td>size of the image, default 1024</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token variable">$member</span><span class="token operator">-></span><span class="token function">getAvatarAttribute</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'png'</span><span class="token punctuation">,</span> <span class="token number">2048</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$url</span><span class="token punctuation">;</span> <span class="token comment">// https://cdn.discordapp.com/guilds/:guild_id/users/:id/avatars/:avatar_hash.png?size=2048</span></code></pre></div></div><h2 id="message">Message</h2><div class="api-module--section--1E1xV"><p>Messages are present in channels and can be anything from a cross post to a reply and a regular message.</p>
<h3>Properties</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>id of the message</td>
</tr>
<tr>
<td>channel_id</td>
<td>string</td>
<td>id of the channel the message was sent in</td>
</tr>
<tr>
<td>channel</td>
<td><a href="#channel">Channel</a></td>
<td>channel the message was sent in</td>
</tr>
<tr>
<td>guild_id</td>
<td>string or null</td>
<td>the unique identifier of the guild that the channel the message was sent in belongs to</td>
</tr>
<tr>
<td>guild</td>
<td><a href="#guild">Guild</a> or null</td>
<td>the guild that the message was sent in</td>
</tr>
<tr>
<td>content</td>
<td>string</td>
<td>content of the message</td>
</tr>
<tr>
<td>type</td>
<td>int, <a href="#message">Message</a> constants</td>
<td>type of the message</td>
</tr>
<tr>
<td>mentions</td>
<td>Collection of <a href="#user">Users</a></td>
<td>users mentioned in the message</td>
</tr>
<tr>
<td>author</td>
<td><a href="#user">User</a></td>
<td>the author of the message</td>
</tr>
<tr>
<td>user_id</td>
<td>string</td>
<td>id of the user that sent the message</td>
</tr>
<tr>
<td>member</td>
<td><a href="#member">Member</a></td>
<td>the member that sent this message, or null if it was in a private message</td>
</tr>
<tr>
<td>mention_everyone</td>
<td>bool</td>
<td>whether @everyone was mentioned</td>
</tr>
<tr>
<td>timestamp</td>
<td><code class="language-text">Carbon</code> timestamp</td>
<td>the time the message was sent</td>
</tr>
<tr>
<td>edited_timestamp</td>
<td><code class="language-text">Carbon</code> timestamp or null</td>
<td>the time the message was edited or null if it hasn't been edited</td>
</tr>
<tr>
<td>tts</td>
<td>bool</td>
<td>whether text to speech was set when the message was sent</td>
</tr>
<tr>
<td>attachments</td>
<td>Collection of <a href="#attachment">Attachments</a></td>
<td>array of attachments</td>
</tr>
<tr>
<td>embeds</td>
<td>Collection of <a href="#embed">Embeds</a></td>
<td>embeds contained in the message</td>
</tr>
<tr>
<td>nonce</td>
<td>string</td>
<td>randomly generated string for client</td>
</tr>
<tr>
<td>mention_roles</td>
<td>Collection of <a href="#role">Roles</a></td>
<td>any roles that were mentioned in the message</td>
</tr>
<tr>
<td>mention_channels</td>
<td>Collection of <a href="#channel">Channels</a></td>
<td>any channels that were mentioned in the message</td>
</tr>
<tr>
<td>pinned</td>
<td>bool</td>
<td>whether the message is pinned</td>
</tr>
<tr>
<td>reactions</td>
<td>reaction repository</td>
<td>any reactions on the message</td>
</tr>
<tr>
<td>webhook_id</td>
<td>string</td>
<td>id of the webhook that sent the message</td>
</tr>
<tr>
<td>activity</td>
<td>object</td>
<td>current message activity, requires rich present</td>
</tr>
<tr>
<td>application</td>
<td>object</td>
<td>application of the message, requires rich presence</td>
</tr>
<tr>
<td>application_id</td>
<td>string</td>
<td>if the message is a response to an Interaction, this is the id of the interaction's application</td>
</tr>
<tr>
<td>message_reference</td>
<td>object</td>
<td>message that is referenced by the message</td>
</tr>
<tr>
<td>referenced_message</td>
<td><a href="#message">Message</a></td>
<td>the message that is referenced in a reply</td>
</tr>
<tr>
<td>interaction</td>
<td>object</td>
<td>the interaction which triggered the message (application commands)</td>
</tr>
<tr>
<td>thread</td>
<td><a href="#thread">Thread</a></td>
<td>the thread that the message was sent in</td>
</tr>
<tr>
<td>components</td>
<td><a href="#component">Component</a></td>
<td>sent if the message contains components like buttons, action rows, or other interactive components</td>
</tr>
<tr>
<td>sticker_items</td>
<td><a href="#sticker">Sticker</a></td>
<td>stickers attached to the message</td>
</tr>
<tr>
<td>flags</td>
<td>int</td>
<td>message flags, see below 5 properties</td>
</tr>
<tr>
<td>crossposted</td>
<td>bool</td>
<td>whether the message has been crossposted</td>
</tr>
<tr>
<td>is_crosspost</td>
<td>bool</td>
<td>whether the message is a crosspost</td>
</tr>
<tr>
<td>suppress_emeds</td>
<td>bool</td>
<td>whether embeds have been supressed</td>
</tr>
<tr>
<td>source<em>message</em>deleted</td>
<td>bool</td>
<td>whether the source message has been deleted e.g. crosspost</td>
</tr>
<tr>
<td>urgent</td>
<td>bool</td>
<td>whether message is urgent</td>
</tr>
<tr>
<td>has_thread</td>
<td>bool</td>
<td>whether this message has an associated thread, with the same id as the message</td>
</tr>
<tr>
<td>ephemeral</td>
<td>bool</td>
<td>whether this message is only visible to the user who invoked the Interaction</td>
</tr>
<tr>
<td>loading</td>
<td>bool</td>
<td>whether this message is an Interaction Response and the bot is "thinking"</td>
</tr>
<tr>
<td>failed<em>to</em>mention<em>some</em>roles<em>in</em>thread</td>
<td>bool</td>
<td>this message failed to mention some roles and add their members to the thread</td>
</tr>
</tbody>
</table>
<h3>Reply to a message</h3>
<p>Sends a "reply" to the message. Returns the new message in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>string</td>
<td>text to send in the message</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token function">reply</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'hello!'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Crosspost a message</h3>
<p>Crossposts a message to any channels that are following the channel the message was sent in. Returns the crossposted message in a promise.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token function">crosspost</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Reply to a message after a delay</h3>
<p>Similar to replying to a message, also takes a <code class="language-text">delay</code> parameter in which the reply will be sent after. Returns the new message in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>text</td>
<td>string</td>
<td>text to send in the message</td>
</tr>
<tr>
<td>delay</td>
<td>int</td>
<td>time in milliseconds to delay before sending the message</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// &lt;@message_author_id>, hello! after 1.5 seconds</span>
<span class="token variable">$message</span><span class="token operator">-></span><span class="token function">delayedReply</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'hello!'</span><span class="token punctuation">,</span> <span class="token number">1500</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>React to a message</h3>
<p>Adds a reaction to a message. Takes an <a href="#emoji">Emoji</a> object, a custom emoji string or a unicode emoji. Returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>emoticon</td>
<td><a href="#emoji">Emoji</a> or string</td>
<td>the emoji to react with</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token function">react</span><span class="token punctuation">(</span><span class="token variable">$emoji</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>

<span class="token variable">$message</span><span class="token operator">-></span><span class="token function">react</span><span class="token punctuation">(</span><span class="token string single-quoted-string">':michael:251127796439449631'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// or</span>

<span class="token variable">$message</span><span class="token operator">-></span><span class="token function">react</span><span class="token punctuation">(</span><span class="token string single-quoted-string">''</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Delete reaction(s) from a message</h3>
<p>Deletes reaction(s) from a message. Has four methods of operation, described below. Returns nothing in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>type</td>
<td>int</td>
<td>type of deletion, one of <code class="language-text">Message::REACT_DELETE_ALL, Message::REACT_DELETE_ME, Message:REACT_DELETE_ID, Message::REACT_DELETE_EMOJI</code></td>
</tr>
<tr>
<td>emoticon</td>
<td><a href="#emoji">Emoji</a>, string, null</td>
<td>emoji to delete, require if using <code class="language-text">DELETE_ID</code>, <code class="language-text">DELETE_ME</code> or <code class="language-text">DELETE_EMOJI</code></td>
</tr>
<tr>
<td>id</td>
<td>string, null</td>
<td>id of the user to delete reactions for, required by <code class="language-text">DELETE_ID</code></td>
</tr>
</tbody>
</table>
<h4>Delete all reactions</h4>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token function">deleteReaction</span><span class="token punctuation">(</span><span class="token class-name static-context">Message</span><span class="token operator">::</span><span class="token constant">REACT_DELETE_ALL</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Delete reaction by current user</h4>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token function">deleteReaction</span><span class="token punctuation">(</span><span class="token class-name static-context">Message</span><span class="token operator">::</span><span class="token constant">REACT_DELETE_ME</span><span class="token punctuation">,</span> <span class="token variable">$emoji</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Delete reaction by another user</h4>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token function">deleteReaction</span><span class="token punctuation">(</span><span class="token class-name static-context">Message</span><span class="token operator">::</span><span class="token constant">REACT_DELETE_ID</span><span class="token punctuation">,</span> <span class="token variable">$emoji</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'member_id'</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Delete all reactions of one emoji</h4>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token function">deleteReaction</span><span class="token punctuation">(</span><span class="token class-name static-context">Message</span><span class="token operator">::</span><span class="token constant">REACT_DELETE_EMOJI</span><span class="token punctuation">,</span> <span class="token variable">$emoji</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Delete the message</h3>
<p>Deletes the message. Returns nothing in a promise.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Edit the message</h3>
<p>Updates the message. Takes a message builder. Returns the updated message in a promise.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token function">edit</span><span class="token punctuation">(</span><span class="token class-name static-context">MessageBuilder</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">-></span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'new content'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Note fields not set in the builder will not be updated, and will retain their previous value.</p>
<h3>Create reaction collector</h3>
<p>Creates a reaction collector. Works similar to <a href="#channel">Channel</a>'s reaction collector. Takes a callback and an array of options. Returns a collection of reactions in a promise.</p>
<h4>Options</h4>
<p>At least one of <code class="language-text">time</code> or <code class="language-text">limit</code> must be specified.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>time</td>
<td>int or false</td>
<td>time in milliseconds until the collector finishes</td>
</tr>
<tr>
<td>limit</td>
<td>int or false</td>
<td>amount of reactions to be collected until the collector finishes</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token function">createReactionCollector</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">MessageReaction</span> <span class="token variable">$reaction</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// return true or false depending on whether you want the reaction to be collected.</span>
    <span class="token keyword">return</span> <span class="token variable">$reaction</span><span class="token operator">-></span><span class="token property">user_id</span> <span class="token operator">==</span> <span class="token string single-quoted-string">'123123123123'</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>
    <span class="token comment">// will resolve after 1.5 seconds or 2 reactions</span>
    <span class="token string single-quoted-string">'time'</span> <span class="token operator">=></span> <span class="token number">1500</span><span class="token punctuation">,</span>
    <span class="token string single-quoted-string">'limit'</span> <span class="token operator">=></span> <span class="token number">2</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Collection</span> <span class="token variable">$reactions</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$reactions</span> <span class="token keyword">as</span> <span class="token variable">$reaction</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Add embed to message</h3>
<p>Adds an embed to a message. Takes an embed object. Will overwrite the old embed (if there is one). Returns the updated message in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>embed</td>
<td><a href="#embed">Embed</a></td>
<td>the embed to add</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$message</span><span class="token operator">-></span><span class="token function">addEmbed</span><span class="token punctuation">(</span><span class="token variable">$embed</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="user">User</h2><div class="api-module--section--1E1xV"><p>User represents a user of Discord. The bot can "see" any users that to a guild that they also belong to.</p>
<h3>Properties</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>id of the user</td>
</tr>
<tr>
<td>username</td>
<td>string</td>
<td>username of the user</td>
</tr>
<tr>
<td>discriminator</td>
<td>string</td>
<td>four-digit discriminator of the user</td>
</tr>
<tr>
<td>displayname</td>
<td>string</td>
<td>username#discriminator</td>
</tr>
<tr>
<td>avatar</td>
<td>string</td>
<td>avatar URL of the user</td>
</tr>
<tr>
<td>avatar_hash</td>
<td>string</td>
<td>avatar hash of the user</td>
</tr>
<tr>
<td>bot</td>
<td>bool</td>
<td>whether the user is a bot</td>
</tr>
<tr>
<td>system</td>
<td>bool</td>
<td>whetehr the user is a system user e.g. Clyde</td>
</tr>
<tr>
<td>mfa_enabled</td>
<td>bool</td>
<td>whether the user has multifactor authentication enabled</td>
</tr>
<tr>
<td>banner</td>
<td>?string</td>
<td>the banner URL of the user.</td>
</tr>
<tr>
<td>banner_hash</td>
<td>?string</td>
<td>the banner URL of the user.</td>
</tr>
<tr>
<td>accent_color</td>
<td>?int</td>
<td>the user's banner color encoded as an integer representation</td>
</tr>
<tr>
<td>locale</td>
<td>?string</td>
<td>locale of the user</td>
</tr>
<tr>
<td>verified</td>
<td>bool</td>
<td>whether the user is verified</td>
</tr>
<tr>
<td>email</td>
<td>?string</td>
<td>email of the user</td>
</tr>
<tr>
<td>flags</td>
<td>?int</td>
<td>user flags, see the <code class="language-text">User</code> classes constants. use bit masks to compare</td>
</tr>
<tr>
<td>premium_type</td>
<td>?int</td>
<td>type of nitro, see the <code class="language-text">User</code> classes constants</td>
</tr>
<tr>
<td>public_flags</td>
<td>?int</td>
<td>see flags above</td>
</tr>
</tbody>
</table>
<h3>Get private channel for user</h3>
<p>Gets the private direct message channel for the user. Returns a <a href="#channel">Channel</a> in a promise.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$user</span><span class="token operator">-></span><span class="token function">getPrivateChannel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Channel</span> <span class="token variable">$channel</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Send user a message</h3>
<p>Sends a private direct message to the user. Note that your bot account can be suspended for doing this, consult Discord documentation for more information. Returns the message in a promise.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>message</td>
<td>string</td>
<td>content to send</td>
</tr>
<tr>
<td>tts</td>
<td>bool</td>
<td>whether to send the message as text to speech</td>
</tr>
<tr>
<td>embed</td>
<td>Embed</td>
<td>embed to send in the message</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$user</span><span class="token operator">-></span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hello, world!'</span><span class="token punctuation">,</span> <span class="token constant boolean">false</span><span class="token punctuation">,</span> <span class="token variable">$embed</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">done</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Get avatar URL</h3>
<p>Gets the avatar URL for the user. Only call this function if you need to change the format or size of the image, otherwise use <code class="language-text">$user->avatar</code>. Returns a string.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>format</td>
<td>string</td>
<td>format of the image, one of png, jpg or webp, default webp or gif if animated</td>
</tr>
<tr>
<td>size</td>
<td>int</td>
<td>size of the image, default 1024</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-></span><span class="token function">getAvatarAttribute</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'png'</span><span class="token punctuation">,</span> <span class="token number">2048</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$url</span><span class="token punctuation">;</span> <span class="token comment">// https://cdn.discordapp.com/avatars/:user_id/:avatar_hash.png?size=2048</span></code></pre></div>
<h3>Get banner URL</h3>
<p>Gets the banner URL for the user. Only call this function if you need to change the format or size of the image, otherwise use <code class="language-text">$user->banner</code>.
Returns a string or <code class="language-text">null</code> if user has no banner image set.</p>
<h4>Parameters</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>format</td>
<td>string</td>
<td>format of the image, one of png, jpg or webp, default png or gif if animated</td>
</tr>
<tr>
<td>size</td>
<td>int</td>
<td>size of the image, default 600</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$url</span> <span class="token operator">=</span> <span class="token variable">$user</span><span class="token operator">-></span><span class="token function">getBannerAttribute</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'png'</span><span class="token punctuation">,</span> <span class="token number">1024</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$url</span><span class="token punctuation">;</span> <span class="token comment">// https://cdn.discordapp.com/banners/:user_id/:banner_hash.png?size=1024</span></code></pre></div></div><h2 id="collection">Collection</h2><div class="api-module--section--1E1xV"><p>Collections are exactly what they sound like - collections of items. In DiscordPHP collections are based around the idea of parts, but they can be used for any type of item.</p>
<div>
Collections implement interfaces allowing them to be accessed like arrays, such as:
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// square bracket index access</span>
<span class="token variable">$collec</span><span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string single-quoted-string">'asdf'</span><span class="token punctuation">;</span>
<span class="token keyword">echo</span> <span class="token variable">$collec</span><span class="token punctuation">[</span><span class="token number">123</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// asdf</span>

<span class="token comment">// foreach loops</span>
<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$collec</span> <span class="token keyword">as</span> <span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>

<span class="token comment">// json serialization</span>
<span class="token function">json_encode</span><span class="token punctuation">(</span><span class="token variable">$collec</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// array serialization</span>
<span class="token variable">$collecArray</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword type-casting">array</span><span class="token punctuation">)</span> <span class="token variable">$collec</span><span class="token punctuation">;</span>

<span class="token comment">// string serialization</span>
<span class="token variable">$jsonCollec</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword type-casting">string</span><span class="token punctuation">)</span> <span class="token variable">$collec</span><span class="token punctuation">;</span> <span class="token comment">// same as json_encode($collec)</span></code></pre></div>
</div>
<h4>Creating a collection</h4>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>items</td>
<td>array</td>
<td>Array of items for the collection. Default is empty collection</td>
</tr>
<tr>
<td>discrim</td>
<td>string or null</td>
<td>The discriminator used to discriminate between parts. Default 'id'</td>
</tr>
<tr>
<td>class</td>
<td>string or null</td>
<td>The type of class contained in the collection. Default null</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// Creates an empty collection with discriminator of 'id' and no class type.</span>
<span class="token comment">// Any item can be inserted into this collection.</span>
<span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Creates an empty collection with no discriminator and no class type.</span>
<span class="token comment">// Similar to a laravel collection.</span>
<span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Getting an item</h4>
<p>Gets an item from the collection, with a key and value.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>any</td>
<td>The key to search with</td>
</tr>
<tr>
<td>value</td>
<td>any</td>
<td>The value that the key should match</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// Collection with 3 items, discriminator is 'id', no class type</span>
<span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'id'</span> <span class="token operator">=></span> <span class="token number">1</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'text'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'My ID is 1.'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'id'</span> <span class="token operator">=></span> <span class="token number">2</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'text'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'My ID is 2.'</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">[</span>
        <span class="token string single-quoted-string">'id'</span> <span class="token operator">=></span> <span class="token number">3</span><span class="token punctuation">,</span>
        <span class="token string single-quoted-string">'text'</span> <span class="token operator">=></span> <span class="token string single-quoted-string">'My ID is 3.'</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [</span>
<span class="token comment">//     'id' => 1,</span>
<span class="token comment">//     'text' => 'My ID is 1.'</span>
<span class="token comment">// ]</span>
<span class="token variable">$item</span> <span class="token operator">=</span> <span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'id'</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [</span>
<span class="token comment">//     'id' => 1,</span>
<span class="token comment">//     'text' => 'My ID is 1.'</span>
<span class="token comment">// ]</span>
<span class="token variable">$item</span> <span class="token operator">=</span> <span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'text'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'My ID is 1.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Adding an item</h4>
<p>Adds an item to the collection. Note that if <code class="language-text">class</code> is set in the constructor and the class of the item inserted is not the same, it will not insert.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>$item</td>
<td>any</td>
<td>The item to insert</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token comment">// empty, no discrim, no class</span>
<span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'asdf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ---</span>

<span class="token keyword">class</span> <span class="token class-name-definition class-name">X</span>
<span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token variable">$y</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function-definition function">__construct</span><span class="token punctuation">(</span><span class="token variable">$y</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$this</span><span class="token operator">-></span><span class="token property">y</span> <span class="token operator">=</span> <span class="token variable">$y</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// empty, discrim 'y', class X</span>
<span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'y'</span><span class="token punctuation">,</span> <span class="token class-name static-context">X</span><span class="token operator">::</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">X</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// won't insert</span>

<span class="token comment">// new X(123)</span>
<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'y'</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Pulling an item</h4>
<p>Removes an item from the collection and returns it.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>key</td>
<td>any</td>
<td>The key to look for</td>
</tr>
<tr>
<td>default</td>
<td>any</td>
<td>Default if key is not found. Default null</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">push</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns at 1 index - which is actually 2</span>
<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns null</span>
<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">pull</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// returns 123</span></code></pre></div>
<h4>Filling the collection</h4>
<p>Fills the collection with an array of items.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">fill</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Number of items</h4>
<p>Returns the number of items in the collection.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">count</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span></code></pre></div>
<h4>Getting the first item</h4>
<p>Gets the first item of the collection.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">echo</span> <span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span></code></pre></div>
<h4>Filtering a collection</h4>
<p>Filters the collection with a given callback function. The callback function is called for every item and is called with the item. If the callback returns true, the item is added to the new collection. Returns a new collection.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback</td>
<td>callable</td>
<td>The callback called on every item</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">102</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [ 101, 102 ]</span>
<span class="token variable">$newCollec</span> <span class="token operator">=</span> <span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$item</span> <span class="token operator">></span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Clearing a collection</h4>
<p>Clears the collection.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// $collec = []</span></code></pre></div>
<h4>Mapping a collection</h4>
<p>A given callback function is called on each item in the collection, and the result is inserted into a new collection.</p>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>callback</td>
<td>callable</td>
<td>The callback called on every item</td>
</tr>
</tbody>
</table>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$collec</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Collection</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
    <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">,</span> <span class="token number">101</span><span class="token punctuation">,</span> <span class="token number">102</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">,</span> <span class="token constant">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// [ 100, 200, 300, 10000, 10100, 10200 ]</span>
<span class="token variable">$newCollec</span> <span class="token operator">=</span> <span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$item</span> <span class="token operator">*</span> <span class="token number">100</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Converting to array</h4>
<p>Converts a collection to an array.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$arr</span> <span class="token operator">=</span> <span class="token variable">$collec</span><span class="token operator">-></span><span class="token function">toArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="permissions">Permissions</h2><div class="api-module--section--1E1xV"><p>There are two types of permissions - channel permissions and role permissions. They are represented by their individual classes, but both extend the same abstract permission class.</p>
<h3>Properties</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>bitwise</td>
<td>int</td>
<td>bitwise representation</td>
</tr>
<tr>
<td>create_instant_invite</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td>manage_channels</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td>view_channel</td>
<td>bool</td>
<td></td>
</tr>
<tr>
<td>manage_roles</td>
<td>bool</td>
<td></td>
</tr>
</tbody>
</table>
<p>The rest of the properties are listed under each permission type, all are type of <code class="language-text">bool</code>.</p>
<h3>Methods</h3>
<h4>Get all valid permissions</h4>
<p>Returns a list of valid permissions, in key value form. Static method.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token function">var_dump</span><span class="token punctuation">(</span><span class="token class-name static-context">ChannelPermission</span><span class="token operator">::</span><span class="token function">getPermissions</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// [</span>
<span class="token comment">//     'priority_speaker' => 8,</span>
<span class="token comment">//     // ...</span>
<span class="token comment">// ]</span></code></pre></div>
<h3>Channel Permission</h3>
<p>Represents permissions for text, voice, and stage instance channels.</p>
<h4>Text Channel Permissions</h4>
<ul>
<li><code class="language-text">create_instant_invite</code></li>
<li><code class="language-text">manage_channels</code></li>
<li><code class="language-text">view_channel</code></li>
<li><code class="language-text">manage_roles</code></li>
<li><code class="language-text">add_reactions</code></li>
<li><code class="language-text">send_messages</code></li>
<li><code class="language-text">send_tts_messages</code></li>
<li><code class="language-text">manage_messages</code></li>
<li><code class="language-text">embed_links</code></li>
<li><code class="language-text">attach_files</code></li>
<li><code class="language-text">read_message_history</code></li>
<li><code class="language-text">mention_everyone</code></li>
<li><code class="language-text">use_external_emojis</code></li>
<li><code class="language-text">manage_webhooks</code></li>
<li><code class="language-text">use_application_commands</code></li>
<li><code class="language-text">manage_threads</code></li>
<li><code class="language-text">create_public_threads</code></li>
<li><code class="language-text">create_private_threads</code></li>
<li><code class="language-text">use_external_stickers</code></li>
<li><code class="language-text">send_messages_in_threads</code></li>
</ul>
<h4>Voice Channel Permissions</h4>
<ul>
<li><code class="language-text">create_instant_invite</code></li>
<li><code class="language-text">manage_channels</code></li>
<li><code class="language-text">view_channel</code></li>
<li><code class="language-text">manage_roles</code></li>
<li><code class="language-text">priority_speaker</code></li>
<li><code class="language-text">stream</code></li>
<li><code class="language-text">connect</code></li>
<li><code class="language-text">speak</code></li>
<li><code class="language-text">mute_members</code></li>
<li><code class="language-text">deafen_members</code></li>
<li><code class="language-text">move_members</code></li>
<li><code class="language-text">use_vad</code></li>
<li><code class="language-text">manage_events</code></li>
<li><code class="language-text">use_embedded_activities</code> was <code class="language-text">start_embedded_activities</code></li>
</ul>
<h4>Stage Instance Channel Permissions</h4>
<ul>
<li><code class="language-text">create_instant_invite</code></li>
<li><code class="language-text">manage_channels</code></li>
<li><code class="language-text">view_channel</code></li>
<li><code class="language-text">manage_roles</code></li>
<li><code class="language-text">connect</code></li>
<li><code class="language-text">mute_members</code></li>
<li><code class="language-text">deafen_members</code></li>
<li><code class="language-text">move_members</code></li>
<li><code class="language-text">request_to_speak</code></li>
<li><code class="language-text">manage_events</code></li>
</ul>
<h3>Role Permissions</h3>
<p>Represents permissions for roles.</p>
<h4>Permissions</h4>
<ul>
<li><code class="language-text">create_instant_invite</code></li>
<li><code class="language-text">manage_channels</code></li>
<li><code class="language-text">view_channel</code></li>
<li><code class="language-text">manage_roles</code></li>
<li><code class="language-text">kick_members</code></li>
<li><code class="language-text">ban_members</code></li>
<li><code class="language-text">administrator</code></li>
<li><code class="language-text">manage_guild</code></li>
<li><code class="language-text">view_audit_log</code></li>
<li><code class="language-text">view_guild_insights</code></li>
<li><code class="language-text">change_nickname</code></li>
<li><code class="language-text">manage_nicknames</code></li>
<li><code class="language-text">manage_emojis_and_stickers</code></li>
<li><code class="language-text">moderate_members</code></li>
</ul></div><h2 id="message-builder">Message Builder</h2><div class="api-module--section--1E1xV"><p>The <code class="language-text">MessageBuilder</code> class is used to describe the contents of a new (or to be updated) message.</p>
<p>A new message builder can be created with the <code class="language-text">new</code> function:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$builder</span> <span class="token operator">=</span> <span class="token class-name static-context">MessageBuilder</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>Most builder functions return itself, so you can easily chain function calls together for a clean API,
an example is shown on the right.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$channel</span><span class="token operator">-></span><span class="token function">sendMessage</span><span class="token punctuation">(</span><span class="token class-name static-context">MessageBuilder</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">-></span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hello, world!'</span><span class="token punctuation">)</span>
    <span class="token operator">-></span><span class="token function">addEmbed</span><span class="token punctuation">(</span><span class="token variable">$embed</span><span class="token punctuation">)</span>
    <span class="token operator">-></span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/path/to/file'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Setting content</h4>
<p>Sets the text content of the message. Throws an <code class="language-text">LengthException</code> if the content is greater than 2000 characters.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$builder</span><span class="token operator">-></span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Hello, world!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Setting TTS value</h4>
<p>Sets the TTS value of the message.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$builder</span><span class="token operator">-></span><span class="token function">setTts</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Adding embeds</h4>
<p>You can add up to 10 embeds to a message. The embed functions takes <code class="language-text">Embed</code> objects or associative arrays:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$builder</span><span class="token operator">-></span><span class="token function">addEmbed</span><span class="token punctuation">(</span><span class="token variable">$embed</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>You can also set the embeds from another array of embeds. Note this will remove the current embeds from the message.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$embeds</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$builder</span><span class="token operator">-></span><span class="token function">setEmbeds</span><span class="token punctuation">(</span><span class="token variable">$embeds</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Replying to a message</h4>
<p>Sets the message as replying to another message. Takes a <code class="language-text">Message</code> object.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$discord</span><span class="token operator">-></span><span class="token function">on</span><span class="token punctuation">(</span><span class="token class-name static-context">Event</span><span class="token operator">::</span><span class="token constant">MESSAGE_CREATE</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Message</span> <span class="token variable">$message</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$builder</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$builder</span><span class="token operator">-></span><span class="token function">setReplyTo</span><span class="token punctuation">(</span><span class="token variable">$message</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Adding files to the message</h4>
<p>You can add multiple files to a message. The <code class="language-text">addFile</code> function takes a path to a file, as well as an optional filename.</p>
<p>If the filename parameter is ommited, it will take the filename from the path. Throws an exception if the path
does not exist.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$builder</span><span class="token operator">-></span><span class="token function">addFile</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'/path/to/file'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'file.png'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>You can also add files to messages with the content as a string:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$builder</span><span class="token operator">-></span><span class="token function">addFileFromContent</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'file.txt'</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'contents of my file!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>You can also remove all files from a builder:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$builder</span><span class="token operator">-></span><span class="token function">clearFiles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>There is no limit on the number of files you can upload, but the whole request must be less than 8MB (including headers and JSON payload).</p>
<h4>Adding sticker</h4>
<p>You can add up to 3 stickers to a message. The function takes <code class="language-text">Sticker</code> object.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$builder</span><span class="token operator">-></span><span class="token function">addSticker</span><span class="token punctuation">(</span><span class="token variable">$sticker</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>To remove a sticker:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$builder</span><span class="token operator">-></span><span class="token function">removeSticker</span><span class="token punctuation">(</span><span class="token variable">$sticker</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>You can also set the stickers from another array of stickers. Note this will remove the current stickers from the message.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$stickers</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token variable">$builder</span><span class="token operator">-></span><span class="token function">setStickers</span><span class="token punctuation">(</span><span class="token variable">$stickers</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h4>Adding message components</h4>
<p>Adds a message component to the message. You can only add <code class="language-text">ActionRow</code> and <code class="language-text">SelectMenu</code> objects. To add buttons, wrap the button in an <code class="language-text">ActionRow</code> object.
Throws an <code class="language-text">InvalidArgumentException</code> if the given component is not an <code class="language-text">ActionRow</code> or <code class="language-text">SelectMenu</code>
Throws an <code class="language-text">OverflowException</code> if you already have 5 components in the message.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$component</span> <span class="token operator">=</span> <span class="token class-name static-context">SelectMenu</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token variable">$builder</span><span class="token operator">-></span><span class="token function">addComponent</span><span class="token punctuation">(</span><span class="token variable">$component</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div></div><h2 id="message-components">Message Components</h2><div class="api-module--section--1E1xV"><p>Message components are new components you can add to messages, such as buttons and select menus.
There are currently four different types of message components:</p>
<h2><code class="language-text">ActionRow</code></h2>
<p>Represents a row of buttons on a message.
You can add up to 5 buttons to the row, which can then be added to the message.
You can only add buttons to action rows.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$row</span> <span class="token operator">=</span> <span class="token class-name static-context">ActionRow</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">-></span><span class="token function">addComponent</span><span class="token punctuation">(</span><span class="token class-name static-context">Button</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token class-name static-context">Button</span><span class="token operator">::</span><span class="token constant">STYLE_SUCCESS</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Functions</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">addComponent($component)</code></td>
<td>adds a component to action row. must be a button component.</td>
</tr>
<tr>
<td><code class="language-text">removeComponent($component)</code></td>
<td>removes the given component from the action row.</td>
</tr>
<tr>
<td><code class="language-text">getComponents(): Component[]</code></td>
<td>returns all the action row components in an array.</td>
</tr>
</tbody>
</table>
<h2><code class="language-text">Button</code></h2>
<p>Represents a button attached to a message.
You cannot directly attach a button to a message, it must be contained inside an <code class="language-text">ActionRow</code>.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$button</span> <span class="token operator">=</span> <span class="token class-name static-context">Button</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token class-name static-context">Button</span><span class="token operator">::</span><span class="token constant">STYLE_SUCCESS</span><span class="token punctuation">)</span>
    <span class="token operator">-></span><span class="token function">setLabel</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'push me!'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>There are 5 different button styles:</p>
<table>
<thead>
<tr>
<th>name</th>
<th>constant</th>
<th>colour</th>
</tr>
</thead>
<tbody>
<tr>
<td>primary</td>
<td><code class="language-text">Button::STYLE_PRIMARY</code></td>
<td>blurple</td>
</tr>
<tr>
<td>secondary</td>
<td><code class="language-text">Button::STYLE_SECONDARY</code></td>
<td>grey</td>
</tr>
<tr>
<td>success</td>
<td><code class="language-text">Button::STYLE_SUCCESS</code></td>
<td>green</td>
</tr>
<tr>
<td>danger</td>
<td><code class="language-text">Button::STYLE_DANGER</code></td>
<td>red</td>
</tr>
<tr>
<td>link</td>
<td><code class="language-text">Button::STYLE_LINK</code></td>
<td>grey</td>
</tr>
</tbody>
</table>
<p><img src="https://discord.com/assets/7bb017ce52cfd6575e21c058feb3883b.png" alt="Discord button styles"></p>
<h3>Functions</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">setStyle($style)</code></td>
<td>sets the style of the button. must be one of the above constants.</td>
</tr>
<tr>
<td><code class="language-text">setLabel($label)</code></td>
<td>sets the label of the button. maximum 80 characters.</td>
</tr>
<tr>
<td><code class="language-text">setEmoji($emoji)</code></td>
<td>sets the emoji for the button. must be an <code class="language-text">Emoji</code> object.</td>
</tr>
<tr>
<td><code class="language-text">setCustomId($custom_id)</code></td>
<td>sets the custom ID of the button. maximum 100 characters. will be automatically generated if left null. not applicable for link buttons.</td>
</tr>
<tr>
<td><code class="language-text">setUrl($url)</code></td>
<td>sets the url of the button. only for buttons with the <code class="language-text">Button::STYLE_LINK</code> style.</td>
</tr>
<tr>
<td><code class="language-text">setDisabled($disabled)</code></td>
<td>sets whether the button is disabled or not.</td>
</tr>
<tr>
<td><code class="language-text">setListener($listener, $discord)</code></td>
<td>sets the listener for the button. see below for more information. not applicable for link buttons.</td>
</tr>
<tr>
<td><code class="language-text">removeListener()</code></td>
<td>removes the listener from the button.</td>
</tr>
</tbody>
</table>
<h3>Adding a button listener</h3>
<p>If you add a button you probably want to listen for when it is clicked.
This is done through the <code class="language-text">setListener(callable $listener, Discord $discord)</code> function.</p>
<p>The <code class="language-text">callable $listener</code> will be a function which is called with the <code class="language-text">Interaction</code> object that triggered the button press.
You must also pass the function the <code class="language-text">$discord</code> client.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$button</span><span class="token operator">-></span><span class="token function">setListener</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Interaction</span> <span class="token variable">$interaction</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token variable">$interaction</span><span class="token operator">-></span><span class="token function">respondWithMessage</span><span class="token punctuation">(</span><span class="token class-name static-context">MessageBuilder</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token operator">-></span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'why\'d u push me?'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token variable">$discord</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>If the interaction is not responded to after the function is called, the interaction will be automatically acknowledged with
no response. If you are going to acknowledge the interaction after a delay (e.g. HTTP request, arbitrary timeout) you should
return a promise from the listener to prevent the automatic acknowledgement:</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$button</span><span class="token operator">-></span><span class="token function">setListener</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Interaction</span> <span class="token variable">$interaction</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$discord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">someFunctionWhichWillReturnAPromise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">then</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token variable">$returnValueFromFunction</span><span class="token punctuation">)</span> <span class="token keyword">use</span> <span class="token punctuation">(</span><span class="token variable">$interaction</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token variable">$interaction</span><span class="token operator">-></span><span class="token function">respondWithMessage</span><span class="token punctuation">(</span><span class="token class-name static-context">MessageBuilder</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token operator">-></span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token variable">$returnValueFromFunction</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token variable">$discord</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2><code class="language-text">SelectMenu</code></h2>
<p>Select menus are a dropdown which can be attached to a message. They operate similar to buttons. They do not need to be attached
to an <code class="language-text">ActionRow</code>. You may have up to 25 <code class="language-text">Option</code>s attached to a select menu.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$select</span> <span class="token operator">=</span> <span class="token class-name static-context">SelectMenu</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token operator">-></span><span class="token function">addOption</span><span class="token punctuation">(</span><span class="token class-name static-context">Option</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'me?'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token operator">-></span><span class="token function">addOption</span><span class="token punctuation">(</span><span class="token class-name static-context">Option</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'or me?'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h3>Functions</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">addOption($option)</code></td>
<td>adds an option to the select menu. maximum 25 options per menu. options must have unique values.</td>
</tr>
<tr>
<td><code class="language-text">removeOption($option)</code></td>
<td>removes an option from the select menu.</td>
</tr>
<tr>
<td><code class="language-text">setPlaceholder($placeholder)</code></td>
<td>sets a placeholder string to be displayed when nothing is selected. null to clear. max 150 characters.</td>
</tr>
<tr>
<td><code class="language-text">setMinValues($min_values)</code></td>
<td>the number of values which must be selected to submit the menu. between 0 and 25, default 1.</td>
</tr>
<tr>
<td><code class="language-text">setMaxValues($max_values)</code></td>
<td>the maximum number of values which can be selected. maximum 25, default 1.</td>
</tr>
<tr>
<td><code class="language-text">setDisabled($disabled)</code></td>
<td>sets whether the menu is disabled or not.</td>
</tr>
<tr>
<td><code class="language-text">setListener($listener, $discord)</code></td>
<td>sets the listener for the select menu. see below for more information.</td>
</tr>
<tr>
<td><code class="language-text">removeListener()</code></td>
<td>removes the listener from the select menu.</td>
</tr>
</tbody>
</table>
<h3><code class="language-text">Option</code> functions</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">new($label, ?$value)</code></td>
<td>creates a new option. requires a label to display, and optionally an internal value (leave as null to auto-generate one).</td>
</tr>
<tr>
<td><code class="language-text">setDescription($description)</code></td>
<td>sets the description of the option. null to clear. maximum 100 characters.</td>
</tr>
<tr>
<td><code class="language-text">setEmoji($emoji)</code></td>
<td>sets the emoji of the option. null to clear. must be an emoji object.</td>
</tr>
<tr>
<td><code class="language-text">setDefault($default)</code></td>
<td>sets whether the option is the default option.</td>
</tr>
<tr>
<td><code class="language-text">getValue()</code></td>
<td>gets the internal developer value of the option.</td>
</tr>
</tbody>
</table>
<h3>Adding a select menu listener</h3>
<p>Select menu listeners operate similar to the button listeners, so please read the above section first. The callback function will
be called with the <code class="language-text">Interaction</code> object as well as a collection of selected <code class="language-text">Option</code>s.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$select</span><span class="token operator">-></span><span class="token function">setListener</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token class-name type-declaration">Interaction</span> <span class="token variable">$interaction</span><span class="token punctuation">,</span> <span class="token class-name type-declaration">Collection</span> <span class="token variable">$options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">foreach</span> <span class="token punctuation">(</span><span class="token variable">$options</span> <span class="token keyword">as</span> <span class="token variable">$option</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">echo</span> <span class="token variable">$option</span><span class="token operator">-></span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">.</span><span class="token constant">PHP_EOL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token variable">$interaction</span><span class="token operator">-></span><span class="token function">respondWithMessage</span><span class="token punctuation">(</span><span class="token class-name static-context">MessageBuilder</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">-></span><span class="token function">setContent</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'thanks!'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token variable">$discord</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<h2><code class="language-text">TextInput</code></h2>
<p>Text inputs are an interactive component that render on modals.</p>
<div class="gatsby-highlight" data-language="php"><pre class="language-php"><code class="language-php"><span class="token variable">$textInput</span> <span class="token operator">=</span> <span class="token class-name static-context">TextInput</span><span class="token operator">::</span><span class="token function">new</span><span class="token punctuation">(</span><span class="token string single-quoted-string">'Label'</span><span class="token punctuation">,</span> <span class="token class-name static-context">TextInput</span><span class="token operator">::</span><span class="token constant">TYPE_SHORT</span><span class="token punctuation">,</span> <span class="token string single-quoted-string">'custom id'</span><span class="token punctuation">)</span>
    <span class="token operator">-></span><span class="token function">setRequired</span><span class="token punctuation">(</span><span class="token constant boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>They can be used to collect short-form or long-form text:</p>
<table>
<thead>
<tr>
<th>style</th>
<th>constant</th>
</tr>
</thead>
<tbody>
<tr>
<td>Short (single line)</td>
<td><code class="language-text">TextInput::STYLE_SHORT</code></td>
</tr>
<tr>
<td>Paragraph (multi line)</td>
<td><code class="language-text">TextInput::STYLE_PARAGRAPH</code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">setCustomId($custom_id)</code></td>
<td>sets the custom ID of the text input. maximum 100 characters. will be automatically generated if left null.</td>
</tr>
<tr>
<td><code class="language-text">setStyle($style)</code></td>
<td>sets the style of the text input. must be one of the above constants.</td>
</tr>
<tr>
<td><code class="language-text">setLabel($label)</code></td>
<td>sets the label of the button. maximum 80 characters.</td>
</tr>
<tr>
<td><code class="language-text">setMinLength($min_length)</code></td>
<td>the minimum length of value. between 0 and 4000, default 0.</td>
</tr>
<tr>
<td><code class="language-text">setMaxLength($max_length)</code></td>
<td>the maximum length of value. between 1 and 4000, default 4000.</td>
</tr>
<tr>
<td><code class="language-text">setValue($value)</code></td>
<td>sets a pre-filled value for the text input. maximum 4000 characters.</td>
</tr>
<tr>
<td><code class="language-text">setPlaceholder($placeholder)</code></td>
<td>sets a placeholder string to be displayed when text input is empty. max 100 characters.</td>
</tr>
<tr>
<td><code class="language-text">setRequired($required)</code></td>
<td>sets whether the text input is required or not.</td>
</tr>
</tbody>
</table></div><h2 id="interactions">Interactions</h2><div class="api-module--section--1E1xV"><p>Interactions are utilized in message components and slash commands.</p>
<h3>Attributes</h3>
<table>
<thead>
<tr>
<th>name</th>
<th>type</th>
<th>description</th>
</tr>
</thead>
<tbody>
<tr>
<td>id</td>
<td>string</td>
<td>id of the interaction.</td>
</tr>
<tr>
<td>application_id</td>
<td>string</td>
<td>id of the application associated to the interaction.</td>
</tr>
<tr>
<td>int</td>
<td>type</td>
<td>type of interaction.</td>
</tr>
<tr>
<td>data</td>
<td><code class="language-text">?InteractionData</code></td>
<td>data associated with the interaction.</td>
</tr>
<tr>
<td>guild</td>
<td><code class="language-text">?Guild</code></td>
<td>guild interaction was triggered from, null if DM.</td>
</tr>
<tr>
<td>channel</td>
<td><code class="language-text">?Channel</code></td>
<td>channel interaction was triggered from.</td>
</tr>
<tr>
<td>member</td>
<td><code class="language-text">?Member</code></td>
<td>member that triggered interaction.</td>
</tr>
<tr>
<td>user</td>
<td><code class="language-text">User</code></td>
<td>user that triggered interaction.</td>
</tr>
<tr>
<td>token</td>
<td>string</td>
<td>internal token for responding to interaction.</td>
</tr>
<tr>
<td>version</td>
<td>int</td>
<td>version of interaction.</td>
</tr>
<tr>
<td>message</td>
<td><code class="language-text">?Message</code></td>
<td>message that triggered interaction.</td>
</tr>
<tr>
<td>locale</td>
<td>?string</td>
<td>The selected language of the invoking user.</td>
</tr>
<tr>
<td>guild_locale</td>
<td>?string</td>
<td>The guild's preferred locale, if invoked in a guild.</td>
</tr>
</tbody>
</table>
<p>The locale list can be seen on <a href="https://discord.com/developers/docs/reference#locales">Discord API reference</a>.</p>
<h3>Functions on interaction create</h3>
<p>The following functions are used to respond an interaction after being created <code class="language-text">Event::INTERACTION_CREATE</code>,
responding interaction with wrong type throws a <code class="language-text">LogicException</code></p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
<th>valid for interaction type</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">acknowledgeWithResponse(?bool $ephemeral)</code></td>
<td>acknowledges the interaction, creating a placeholder response to be updated</td>
<td><code class="language-text">APPLICATION_COMMAND</code>, <code class="language-text">MESSAGE_COMPONENT</code>, <code class="language-text">MODAL_SUBMIT</code></td>
</tr>
<tr>
<td><code class="language-text">acknowledge()</code></td>
<td>defer the interaction</td>
<td><code class="language-text">MESSAGE_COMPONENT</code>, <code class="language-text">MODAL_SUBMIT</code></td>
</tr>
<tr>
<td><code class="language-text">respondWithMessage(MessageBuilder $builder, ?bool $ephemeral)</code></td>
<td>responds to the interaction with a message. ephemeral is default false</td>
<td><code class="language-text">APPLICATION_COMMAND</code>, <code class="language-text">MESSAGE_COMPONENT</code>, <code class="language-text">MODAL_SUBMIT</code></td>
</tr>
<tr>
<td><code class="language-text">autoCompleteResult(array $choices)</code></td>
<td>responds a suggestion to options with auto complete</td>
<td><code class="language-text">APPLICATION_COMMAND_AUTOCOMPLETE</code></td>
</tr>
<tr>
<td><code class="language-text">showModal(string $title, string $custom_id, array $components, ?callable $submit = null)</code></td>
<td>responds to the interaction with a popup modal</td>
<td><code class="language-text">MODAL_SUBMIT</code></td>
</tr>
</tbody>
</table>
<h3>Functions after interaction response</h3>
<p>The following functions can be only used after interaction respond above,
otherwise throws a <code class="language-text">RuntimeException</code> "Interaction has not been responded to."</p>
<table>
<thead>
<tr>
<th>name</th>
<th>description</th>
<th>return</th>
</tr>
</thead>
<tbody>
<tr>
<td><code class="language-text">updateMessage(MessageBuilder $message)</code></td>
<td>updates the message the interaction was triggered from. only for message component interaction</td>
<td><code class="language-text">Promise&lt;void></code></td>
</tr>
<tr>
<td><code class="language-text">getOriginalResponse()</code></td>
<td>gets the original interaction response</td>
<td><code class="language-text">Promise&lt;Message></code></td>
</tr>
<tr>
<td><code class="language-text">updateOriginalResponse(MessageBuilder $message)</code></td>
<td>updates the original interaction response</td>
<td><code class="language-text">Promise&lt;Message></code></td>
</tr>
<tr>
<td><code class="language-text">deleteOriginalResponse()</code></td>
<td>deletes the original interaction response</td>
<td><code class="language-text">Promise&lt;void></code></td>
</tr>
<tr>
<td><code class="language-text">sendFollowUpMessage(MessageBuilder $builder, ?bool $ephemeral)</code></td>
<td>sends a follow up message to the interaction. ephemeral is defalt false</td>
<td><code class="language-text">Promise&lt;Message></code></td>
</tr>
<tr>
<td><code class="language-text">getFollowUpMessage(string $message_id)</code></td>
<td>gets a non ephemeral follow up message from the interaction</td>
<td><code class="language-text">Promise&lt;Message></code></td>
</tr>
<tr>
<td><code class="language-text">updateFollowUpMessage(string $message_id, MessageBuilder $builder)</code></td>
<td>updates the follow up message of the interaction</td>
<td><code class="language-text">Promise&lt;Message></code></td>
</tr>
<tr>
<td><code class="language-text">deleteFollowUpMessage(string $message_id)</code></td>
<td>deletes a follow up message from the interaction</td>
<td><code class="language-text">Promise&lt;void></code></td>
</tr>
</tbody>
</table></div></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-eb4ca9c3dc5cf6afbdbe.js"],"app":["/app-fd112211a1e13a712b36.js"],"component---src-components-template-js":["/component---src-components-template-js-26f01ab8b6c11c4bc871.js"]};/*]]>*/</script><script src="/polyfill-eb4ca9c3dc5cf6afbdbe.js" nomodule=""></script><script src="/component---src-components-template-js-26f01ab8b6c11c4bc871.js" async=""></script><script src="/styles-0ec71dd62c66cb95665c.js" async=""></script><script src="/app-fd112211a1e13a712b36.js" async=""></script><script src="/framework-22e284bb9c60c9c4a40e.js" async=""></script><script src="/webpack-runtime-e5e1ee016612577d5f35.js" async=""></script></body></html>